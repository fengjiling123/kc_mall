(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{1215:function(e,n,t){"use strict";t.r(n);t(947);var a,r,i,o=t(950),c=t.n(o),s=t(755),l=t(21),h=t(22),u=t(24),p=t(23),d=t(25),f=t(42),m=t(0),g=t.n(m),v=(t(130),t(762),t(763)),b=t.n(v),y=t(63),w=t(67),x=(t(953),Object(y.b)()(a=function(e){function n(e){return Object(l.a)(this,n),Object(u.a)(this,Object(p.a)(n).call(this,e))}return Object(d.a)(n,e),Object(h.a)(n,[{key:"render",value:function(){var e=this.props,n=e.onClose,t=e.dispatch;return g.a.createElement(b.a,{popup:!0,visible:!0,onClose:n,animationType:"slide-up",className:"--del-search-history-modal"},g.a.createElement("div",{className:"del-modal-content"},g.a.createElement("div",{className:"title"},"\u662f\u5426\u786e\u5b9a\u6e05\u7a7a\u5386\u53f2\u8bb0\u5f55\uff1f"),g.a.createElement("div",{className:"buttons"},g.a.createElement("div",{className:"cancel",onClick:n},"\u53d6\u6d88"),g.a.createElement("div",{className:"ok",onClick:function(){t(w.e({searchList:[]})),n()}},"\u786e\u5b9a"))))}}]),n}(g.a.Component))||a),k=t(285),C=t(47),D=t.n(C),E=t(11),F=(t(955),t(9)),B=t(127),O=(r=Object(y.b)(function(e){return Object(f.a)({},e.cache)}),Object(k.a)(i=r(i=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(u.a)(this,Object(p.a)(n).call(this,e))).inputFocus=function(){window.scroll(0,0)},t.doSearch=function(){var e=t.props,n=e.searchList,a=e.history,r=e.dispatch,i=t.state,o=i.keyword,c=i.search_hint;n?!n.find(function(e){return e===o})&&o&&r(w.e({searchList:[o].concat(Object(s.a)(n)).slice(0,5)})):o&&r(w.e({searchList:[o]})),!o&&c&&(n?!n.find(function(e){return e===c})&&r(w.e({searchList:[c].concat(Object(s.a)(n)).slice(0,5)})):r(w.e({searchList:[c]}))),Object(F.g)("\u641c\u7d22\u9875","\u7528\u6237\u81ea\u4e3b\u641c\u7d22\u5173\u952e\u8bcd"),t.keywordClick(o||c,2),a.replace("/searchresult?keyword=".concat(o||c))},t.keywordClick=function(e,n){var t={keyword:e,type:n};Object(E.a)({url:"/keyword.click",data:t,method:"post"}).then(function(e){})},t.state={hotSearch:[],search_hint:"",showDelModal:!1,keyword:""},t}return Object(d.a)(n,e),Object(h.a)(n,[{key:"componentDidMount",value:function(){this.setState({search_hint:D.a.parse(window.location.search.split("?")[1]).search_hint}),this.autoFocusInst.focus(),this.getHotSearch(),this.props.dispatch(w.d("searchList"))}},{key:"getHotSearch",value:function(){var e=this;Object(E.a)({url:"/keyword.get"}).then(function(n){e.setState({hotSearch:n.data.data.hot_search?n.data.data.hot_search.split(","):[]})})}},{key:"componentWillUnmount",value:function(){document.getElementsByTagName("input")[0]&&document.getElementsByTagName("input")[0].blur()}},{key:"render",value:function(){var e=this,n=this.state,t=n.hotSearch,a=n.showDelModal,r=n.search_hint,i=this.props,o=i.history,s=i.searchList;return g.a.createElement("div",{className:"--search-page"},g.a.createElement(B.b,{name:"\u641c\u7d22"}),g.a.createElement("div",{className:"search-bar"},g.a.createElement(c.a,{className:"search-inp",placeholder:r,ref:function(n){return e.autoFocusInst=n},onChange:function(n){e.setState({keyword:n})},onSubmit:function(){e.doSearch()},onBlur:this.inputFocus,onFocus:this.inputFocus}),g.a.createElement("span",{style:{color:"#657281"},onClick:this.doSearch},"\u641c\u7d22")),g.a.createElement("div",{className:"scroll-view"},t&&t.length>0&&g.a.createElement("div",null,g.a.createElement("div",{className:"title"},"\u70ed\u95e8\u641c\u7d22"),g.a.createElement("div",{className:"tags"},t.map(function(n,t){return g.a.createElement("div",{key:t,onClick:function(){Object(F.g)("\u641c\u7d22\u9875","\u5e73\u53f0\u9ed8\u8ba4\u641c\u7d22\u5173\u952e\u8bcd"),e.keywordClick(n,1),o.replace("/searchresult?keyword=".concat(n))}},n)}))),s&&s.length>0&&g.a.createElement("div",null,g.a.createElement("div",{className:"title"},"\u5386\u53f2\u8bb0\u5f55",g.a.createElement("i",{onClick:function(){e.setState({showDelModal:!0})},className:"iconfont iconshanchu",style:{color:"#657281",fontSize:".15rem",float:"right"}})),g.a.createElement("div",{className:"tags"},s.slice(0,10).map(function(n,t){return g.a.createElement("div",{key:t,onClick:function(){Object(F.g)("\u641c\u7d22\u9875","\u7528\u6237\u81ea\u4e3b\u641c\u7d22\u5173\u952e\u8bcd"),e.keywordClick(n,2),o.replace("/searchresult?keyword=".concat(n))}},n)})))),a&&g.a.createElement(x,{onClose:function(){e.setState({showDelModal:!1})}}))}}]),n}(g.a.Component))||i)||i);n.default=O},755:function(e,n,t){"use strict";function a(e){return function(e){if(Array.isArray(e)){for(var n=0,t=new Array(e.length);n<e.length;n++)t[n]=e[n];return t}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t.d(n,"a",function(){return a})},768:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a,r=t(41),i=(a=r)&&a.__esModule?a:{default:a};n.getComponentLocale=function(e,n,t,a){var r={};if(n&&n.antLocale&&n.antLocale[t])r=n.antLocale[t];else{var o=a();r=o.default||o}var c=(0,i.default)({},r);e.locale&&(c=(0,i.default)({},c,e.locale),e.locale.lang&&(c.lang=(0,i.default)({},r.lang,e.locale.lang)));return c},n.getLocaleCode=function(e){var n=e.antLocale&&e.antLocale.locale;if(e.antLocale&&e.antLocale.exist&&!n)return"zh-cn";return n}},947:function(e,n,t){"use strict";t(128),t(948)},948:function(e,n,t){var a=t(949);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(46)(a,r);a.locals&&(e.exports=a.locals)},949:function(e,n,t){(e.exports=t(45)(!1)).push([e.i,"/* \u9ed8\u8ba4\u641c\u7d22bar */\n.am-search {\n  position: relative;\n  display: flex;\n  align-items: center;\n  height: 44px;\n  padding: 0 8px;\n  overflow: hidden;\n  background-color: #efeff4;\n}\n.am-search-input {\n  flex: 1;\n  position: relative;\n  width: 100%;\n  height: 28px;\n  overflow: hidden;\n  background-color: #fff;\n  background-clip: padding-box;\n  border-radius: 3px;\n}\n.am-search-input .am-search-synthetic-ph,\n.am-search-input input[type=\"search\"] {\n  position: absolute;\n  top: 0;\n  left: 0;\n}\n.am-search-input .am-search-synthetic-ph {\n  box-sizing: content-box;\n  z-index: 1;\n  height: 28px;\n  line-height: 28px;\n  width: 100%;\n  transition: width .3s;\n  display: block;\n  text-align: center;\n}\n.am-search-input .am-search-synthetic-ph-icon {\n  display: inline-block;\n  margin-right: 5px;\n  width: 15px;\n  height: 15px;\n  overflow: hidden;\n  vertical-align: -2.5px;\n  background-repeat: no-repeat;\n  background-size: 15px auto;\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D'38'%20height%3D'36'%20viewBox%3D'0%200%2038%2036'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M29.05%2025.23a15.81%2015.81%200%200%200%203.004-9.294c0-8.8-7.17-15.934-16.017-15.934C7.192.002.02%207.136.02%2015.936c0%208.802%207.172%2015.937%2016.017%2015.937%204.148%200%207.928-1.569%2010.772-4.143l8.873%208.232%202.296-2.45-8.927-8.282zM16.2%2028.933c-7.19%200-13.04-5.788-13.04-12.903%200-7.113%205.85-12.904%2013.04-12.904%207.19%200%2012.9%205.79%2012.9%2012.904%200%207.115-5.71%2012.903-12.9%2012.903z'%20fill%3D'%23bbb'%20fill-rule%3D'evenodd'%2F%3E%3C%2Fsvg%3E\");\n}\n.am-search-input .am-search-synthetic-ph-placeholder {\n  color: #bbb;\n  font-size: 15px;\n}\n.am-search-input input[type=\"search\"] {\n  z-index: 2;\n  opacity: 0;\n  width: 100%;\n  text-align: left;\n  display: block;\n  color: #2D343B;\n  height: 28px;\n  font-size: 15px;\n  background-color: transparent;\n  border: 0;\n}\n.am-search-input input[type=\"search\"]::placeholder {\n  background: none;\n  text-align: left;\n  color: transparent;\n}\n.am-search-input input[type=\"search\"]::-webkit-search-cancel-button {\n  -webkit-appearance: none;\n}\n.am-search-input .am-search-clear {\n  box-sizing: content-box;\n  position: absolute;\n  display: none;\n  z-index: 3;\n  width: 15px;\n  height: 15px;\n  padding: 6.5px;\n  border-radius: 50%;\n  top: 0;\n  right: 0;\n  background-color: transparent;\n  background-position: center;\n  background-repeat: no-repeat;\n  background-size: 15px 15px;\n  transition: all .3s;\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2028%2028'%3E%3Ccircle%20cx%3D'14'%20cy%3D'14'%20r%3D'14'%20fill%3D'%23ccc'%2F%3E%3Cline%20stroke%3D'%23ffffff'%20stroke-width%3D'2'%20stroke-miterlimit%3D'10'%20x1%3D'8'%20y1%3D'8'%20x2%3D'20'%20y2%3D'20'%2F%3E%3Cline%20fill%3D'none'%20stroke%3D'%23ffffff'%20stroke-width%3D'2'%20stroke-miterlimit%3D'10'%20x1%3D'20'%20y1%3D'8'%20x2%3D'8'%20y2%3D'20'%2F%3E%3C%2Fsvg%3E\");\n}\n.am-search-input .am-search-clear-active {\n  background-image: url(\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2028%2028'%3E%3Ccircle%20cx%3D'14'%20cy%3D'14'%20r%3D'14'%20fill%3D'%233776EC'%2F%3E%3Cline%20stroke%3D'%23ffffff'%20stroke-width%3D'2'%20stroke-miterlimit%3D'10'%20x1%3D'8'%20y1%3D'8'%20x2%3D'20'%20y2%3D'20'%2F%3E%3Cline%20fill%3D'none'%20stroke%3D'%23ffffff'%20stroke-width%3D'2'%20stroke-miterlimit%3D'10'%20x1%3D'20'%20y1%3D'8'%20x2%3D'8'%20y2%3D'20'%2F%3E%3C%2Fsvg%3E\");\n}\n.am-search-input .am-search-clear-show {\n  display: block;\n}\n.am-search-cancel {\n  flex: none;\n  opacity: 0;\n  padding-left: 8px;\n  height: 44px;\n  line-height: 44px;\n  font-size: 16px;\n  color: #3776EC;\n  text-align: right;\n}\n.am-search-cancel-anim {\n  transition: margin-right 0.3s, opacity 0.3s;\n  transition-delay: .1s;\n}\n.am-search-cancel-show {\n  opacity: 1;\n}\n.am-search.am-search-start .am-search-input input[type=\"search\"] {\n  opacity: 1;\n  padding: 0 28px 0 35px;\n}\n.am-search.am-search-start .am-search-input input[type=\"search\"]::placeholder {\n  color: transparent;\n}\n.am-search.am-search-start .am-search-input .am-search-synthetic-ph {\n  padding-left: 15px;\n  width: auto;\n}\n",""])},950:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=v(t(41)),r=v(t(43)),i=v(t(31)),o=v(t(32)),c=v(t(26)),s=v(t(33)),l=v(t(20)),h=g(t(0)),u=g(t(2)),p=v(t(305)),d=v(t(313)),f=t(768),m=t(951);function g(e){if(e&&e.__esModule)return e;var n={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t]);return n.default=e,n}function v(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function n(e){(0,i.default)(this,n);var t=(0,c.default)(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));t.onSubmit=function(e){e.preventDefault(),t.props.onSubmit&&t.props.onSubmit(t.state.value||""),t.inputRef&&t.inputRef.blur()},t.onChange=function(e){t.state.focus||t.setState({focus:!0});var n=e.target.value;"value"in t.props||t.setState({value:n}),t.props.onChange&&t.props.onChange(n)},t.onFocus=function(){t.setState({focus:!0}),t.firstFocus=!0,t.props.onFocus&&t.props.onFocus()},t.onBlur=function(){var e;t.onBlurTimeout=(e=function(){t.blurFromOnClear||document.activeElement!==t.inputRef&&t.setState({focus:!1}),t.blurFromOnClear=!1},window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)),t.props.onBlur&&(setTimeout(function(){document.body&&(document.body.scrollTop=document.body.scrollTop)},100),t.props.onBlur())},t.onClear=function(){t.doClear()},t.doClear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t.blurFromOnClear=e,"value"in t.props||t.setState({value:""}),t.props.onClear&&t.props.onClear(""),t.props.onChange&&t.props.onChange(""),e&&t.focus()},t.onCancel=function(){t.props.onCancel?t.props.onCancel(t.state.value||""):t.doClear(!1)},t.focus=function(){t.inputRef&&t.inputRef.focus()};var a=void 0;return a="value"in e?e.value||"":"defaultValue"in e?e.defaultValue:"",t.state={value:a,focus:!1},t}return(0,s.default)(n,e),(0,o.default)(n,[{key:"componentDidMount",value:function(){if(this.rightBtnRef){var e=window.getComputedStyle(this.rightBtnRef);this.rightBtnInitMarginleft=e.marginLeft}this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){if(this.syntheticPhRef)if(this.inputContainerRef&&this.inputContainerRef.className.indexOf(this.props.prefixCls+"-start")>-1){if(this.syntheticPhContainerRef){var e=this.syntheticPhContainerRef.getBoundingClientRect().width;this.syntheticPhRef.style.width=Math.ceil(e)+"px"}!this.props.showCancelButton&&this.rightBtnRef&&(this.rightBtnRef.style.marginRight="0")}else this.syntheticPhRef.style.width="100%",!this.props.showCancelButton&&this.rightBtnRef&&(this.rightBtnRef.style.marginRight="-"+(this.rightBtnRef.offsetWidth+(null!=this.rightBtnInitMarginleft?parseInt(this.rightBtnInitMarginleft,10):0))+"px")}},{key:"componentWillReceiveProps",value:function(e){"value"in e&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){var e;this.onBlurTimeout&&(e=this.onBlurTimeout,window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e),this.onBlurTimeout=null)}},{key:"render",value:function(){var e,n=this,i=this.props,o=i.prefixCls,c=i.showCancelButton,s=i.disabled,u=i.placeholder,m=i.className,g=i.style,v=i.maxLength,b=(0,f.getComponentLocale)(this.props,this.context,"SearchBar",function(){return t(952)}).cancelText,y=this.state,w=y.value,x=y.focus,k=(0,l.default)(o,m,(0,r.default)({},o+"-start",!!(x||w&&w.length>0))),C=(0,l.default)(o+"-clear",(0,r.default)({},o+"-clear-show",!!(x&&w&&w.length>0))),D=(0,l.default)(o+"-cancel",(e={},(0,r.default)(e,o+"-cancel-show",!!(c||x||w&&w.length>0)),(0,r.default)(e,o+"-cancel-anim",this.firstFocus),e));return h.createElement("form",{onSubmit:this.onSubmit,className:k,style:g,ref:function(e){return n.inputContainerRef=e},action:"#"},h.createElement("div",{className:o+"-input"},h.createElement("div",{className:o+"-synthetic-ph",ref:function(e){return n.syntheticPhRef=e}},h.createElement("span",{className:o+"-synthetic-ph-container",ref:function(e){return n.syntheticPhContainerRef=e}},h.createElement("i",{className:o+"-synthetic-ph-icon"}),h.createElement("span",{className:o+"-synthetic-ph-placeholder",style:{visibility:u&&!w?"visible":"hidden"}},u))),h.createElement("input",(0,a.default)({type:"search",className:o+"-value",value:w,disabled:s,placeholder:u,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,ref:function(e){return n.inputRef=e},maxLength:v},(0,d.default)(this.props))),h.createElement(p.default,{activeClassName:o+"-clear-active"},h.createElement("a",{onClick:this.onClear,className:C}))),h.createElement("div",{className:D,onClick:this.onCancel,ref:function(e){return n.rightBtnRef=e}},this.props.cancelText||b))}}]),n}(h.Component);n.default=b,b.defaultProps=m.defaultProps,b.contextTypes={antLocale:u.object},e.exports=n.default},951:function(e,n,t){"use strict";function a(){}Object.defineProperty(n,"__esModule",{value:!0});n.defaultProps={prefixCls:"am-search",placeholder:"",onSubmit:a,onChange:a,onFocus:a,onBlur:a,onClear:a,showCancelButton:!1,disabled:!1}},952:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={cancelText:"\u53d6\u6d88"},e.exports=n.default},953:function(e,n,t){var a=t(954);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(46)(a,r);a.locals&&(e.exports=a.locals)},954:function(e,n,t){(e.exports=t(45)(!1)).push([e.i,".\\--del-search-history-modal .am-modal-content {\n  border-top-left-radius: .1rem;\n  border-top-right-radius: .1rem;\n}\n.\\--del-search-history-modal .del-modal-content {\n  padding: .3rem .2rem;\n  font-family: PingFangSC-Medium;\n  color: #2D343B;\n}\n.\\--del-search-history-modal .del-modal-content .title {\n  margin-bottom: .2rem;\n  font-size: .16rem;\n  line-height: .22rem;\n}\n.\\--del-search-history-modal .del-modal-content .buttons {\n  display: flex;\n  justify-content: space-between;\n}\n.\\--del-search-history-modal .del-modal-content .buttons div {\n  height: 0.4rem;\n  width: 1.4rem;\n  border-radius: 0.2rem;\n  line-height: .4rem;\n  text-align: center;\n  font-size: .14rem;\n}\n.\\--del-search-history-modal .del-modal-content .buttons .cancel {\n  background: #ffffff;\n  border: 1px solid #dbe0e5;\n}\n.\\--del-search-history-modal .del-modal-content .buttons .ok {\n  background: #ffb516;\n}\n",""])},955:function(e,n,t){var a=t(956);"string"===typeof a&&(a=[[e.i,a,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};t(46)(a,r);a.locals&&(e.exports=a.locals)},956:function(e,n,t){(e.exports=t(45)(!1)).push([e.i,".\\--search-page {\n  display: flex;\n  flex-direction: column;\n  height: 100%;\n  background: #fff;\n}\n.\\--search-page .search-bar {\n  height: 0.45rem;\n  display: flex;\n  align-items: center;\n  padding: 0 0.15rem;\n}\n.\\--search-page .search-bar .search-inp {\n  height: 0.3rem;\n  background: #f5f6f8;\n  border-radius: 0.16rem;\n  flex: 1;\n  margin-right: .1rem;\n}\n.\\--search-page .search-bar .search-inp .am-search-input {\n  background: #f5f6f8;\n}\n.\\--search-page .search-bar .search-inp .am-search-cancel {\n  display: none;\n}\n.\\--search-page .scroll-view {\n  padding: 0.2rem 0.15rem;\n  flex: 1;\n  overflow: auto;\n}\n.\\--search-page .scroll-view > div:first-child {\n  margin-bottom: 0.45rem;\n}\n.\\--search-page .scroll-view .title {\n  height: 0.2rem;\n  line-height: 0.2rem;\n  margin-bottom: 0.15rem;\n}\n.\\--search-page .scroll-view .tags {\n  display: flex;\n  flex-wrap: wrap;\n}\n.\\--search-page .scroll-view .tags > div {\n  padding: 0.05rem 0.15rem;\n  line-height: 0.2rem;\n  background: #f5f6f8;\n  border-radius: 49px;\n  margin-right: 0.2rem;\n  margin-bottom: 0.2rem;\n}\n.\\--search-page .am-search-input .am-search-synthetic-ph-icon {\n  margin-top: .06rem;\n}\n",""])}}]);
//# sourceMappingURL=23.632ce9ce.chunk.js.map