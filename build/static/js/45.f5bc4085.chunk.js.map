{"version":3,"sources":["assets/images/quanBg.png","assets/images/quanUsedBg.png","webpack:///./src/pages/myCenter/myCoupon/index.less?cd4c","pages/myCenter/myCoupon/index.less","pages/myCenter/myCoupon/index.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/auth/index.jsx"],"names":["module","exports","__webpack_require__","p","content","i","options","hmr","transform","insertInto","undefined","locals","push","COUPON_ATTRIBUTE","1","2","3","4","MyCoupon","Auth","props","_this","Object","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_9__","this","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_11__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_12__","call","onRefresh","setState","refreshing","isLoading","page","sendDataRequest","state","status","onEndReached","event","onTabChange","tab","key","selectRow","rowData","console","log","history","id","reach_money","money","dataSource","antd_mobile_lib_list_view__WEBPACK_IMPORTED_MODULE_8___default","a","DataSource","rowHasChanged","row1","row2","isEdit","height","document","documentElement","clientHeight","couponCode","data","hei","ReactDOM","lv","_this2","params","limit","http","url","then","res","cloneWithRows","concat","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_6__","goBack","startTime","endTime","start_time","date","Date","month","getMonth","getFullYear","getDate","end_time","Number","parseFloat","_this3","code","antd_mobile_lib_toast__WEBPACK_IMPORTED_MODULE_5___default","success","scrollEl","scrollTop","setTimeout","_this4","react__WEBPACK_IMPORTED_MODULE_14___default","createElement","className","ref","el","src","back","onClick","goback","alt","placeholder","onChange","e","target","value","trim","exchangeCouponCode","antd_mobile_lib_tabs__WEBPACK_IMPORTED_MODULE_3___default","tabs","title","initialPage","tabDirection","tabBarActiveTextColor","tabBarInactiveTextColor","tabBarTextStyle","fontSize","tabBarUnderlineStyle","width","marginLeft","tabBarBackgroundColor","style","renderFooter","renderRow","sectionID","rowID","bind","backgroundImage","quanBg","quanUsedBg","attribute","store_name","getCouponDesc","getTimeText","pullToRefresh","antd_mobile_lib_pull_to_refresh__WEBPACK_IMPORTED_MODULE_1___default","pageSize","React","Component","_toConsumableArray","arr","Array","isArray","arr2","length","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","from","_iterableToArray","TypeError","_nonIterableSpread","d","__webpack_exports__","WrappedComponent","_class","_temp","_React$Component","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","componentDidCache","render","componentDidRecover","cacheLifecycles","didCache","didRecover","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","store","getState","login","isLogin","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","displayName","name"],"mappings":"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","file":"static/js/45.f5bc4085.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/quanBg.960fdadf.png\";","module.exports = __webpack_public_path__ + \"static/media/quanUsedBg.8505621e.png\";","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".myCoupon {\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n}\\n.myCoupon .topBar {\\n  height: 96rem;\\n  width: 100%;\\n  background: #fff;\\n  z-index: 999;\\n}\\n.myCoupon .topBar .top-operation {\\n  height: 0.48rem;\\n  display: flex;\\n}\\n.myCoupon .topBar .top-operation .backView {\\n  width: 0.4rem;\\n  height: 0.48rem;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  background: #fff;\\n}\\n.myCoupon .topBar .top-operation .backView .back {\\n  width: auto;\\n  height: 0.18rem;\\n}\\n.myCoupon .topBar .top-operation .get-coupon {\\n  flex: 1;\\n  padding-top: 0.08rem;\\n}\\n.myCoupon .topBar .top-operation .get-coupon input {\\n  width: 2.75rem;\\n  border-radius: 0.16rem;\\n  background: #f5f6f8;\\n  padding: 0 0.15rem;\\n  height: 0.32rem;\\n}\\n.myCoupon .topBar .top-operation .get-coupon span {\\n  display: inline-block;\\n  line-height: 0.32rem;\\n  padding-left: 0.1rem;\\n  font-size: 0.16rem;\\n  color: #2d343b;\\n}\\n.myCoupon .topBar .tabs {\\n  height: 0.44rem;\\n  background: #fff;\\n}\\n.myCoupon .topBar .zhanwei {\\n  width: 0.4rem;\\n  height: 0.4rem;\\n  background: #fff;\\n}\\n.myCoupon .content {\\n  flex: 1;\\n  background: #f5f6f8;\\n}\\n.myCoupon .am-list-view-scrollview {\\n  margin: 0 !important;\\n}\\n.myCoupon .am-list-body:before {\\n  content: \\\"\\\" !important;\\n  background-color: #f5f6f8 !important;\\n}\\n.myCoupon .am-list-body:after {\\n  content: \\\"\\\" !important;\\n  background-color: #f5f6f8 !important;\\n}\\n.myCoupon-item {\\n  background: #f5f6f8;\\n  padding: 0.2rem 0.15rem 0.1rem 0.15rem;\\n}\\n.myCoupon-item .content-item {\\n  width: 3.45rem;\\n  height: 1.3rem;\\n  background-size: 100% 100%;\\n}\\n.myCoupon-item .content-item .textContent {\\n  padding: 0.3rem 0.4rem;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.myCoupon-item .content-item .textContent .leftView .name {\\n  color: #2d343b;\\n  font-size: 0.16rem;\\n}\\n.myCoupon-item .content-item .textContent .leftView .desc {\\n  color: #2d343b;\\n  font-size: 0.14rem;\\n  margin-top: 0.07rem;\\n  margin-bottom: 0.04rem;\\n}\\n.myCoupon-item .content-item .textContent .leftView .time {\\n  color: #657281;\\n  font-size: 0.14rem;\\n}\\n.myCoupon-item .content-item .textContent .rightView {\\n  color: #debf81;\\n}\\n.myCoupon-item .content-item .textContent .rightView .topView .fuhao {\\n  font-size: 0.12rem;\\n}\\n.myCoupon-item .content-item .textContent .rightView .topView .money {\\n  font-size: 0.4rem;\\n  font-weight: bold;\\n}\\n.myCoupon-item .content-item .textContent .rightView .bottomView {\\n  font-size: 0.12rem;\\n  padding-left: 0.1rem;\\n  padding-right: 0.1rem;\\n  height: 0.21rem;\\n  border-radius: 0.105rem;\\n  background-color: #debf81;\\n  color: #fff;\\n  line-height: 0.21rem;\\n  text-align: center;\\n}\\n.myCoupon-itemGray {\\n  background: #f5f6f8;\\n  padding: 0.2rem 0.15rem 0.1rem 0.15rem;\\n}\\n.myCoupon-itemGray .content-item {\\n  width: 3.45rem;\\n  height: 1.3rem;\\n  background-size: 100% 100%;\\n}\\n.myCoupon-itemGray .content-item .textContent {\\n  padding: 0.3rem 0.4rem;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.myCoupon-itemGray .content-item .textContent .leftView .name {\\n  color: #2d343b;\\n  font-size: 0.16rem;\\n}\\n.myCoupon-itemGray .content-item .textContent .leftView .desc {\\n  color: #2d343b;\\n  font-size: 0.14rem;\\n  margin-top: 0.07rem;\\n  margin-bottom: 0.04rem;\\n}\\n.myCoupon-itemGray .content-item .textContent .leftView .time {\\n  color: #657281;\\n  font-size: 0.14rem;\\n}\\n.myCoupon-itemGray .content-item .textContent .rightView {\\n  color: #a1adb9;\\n}\\n.myCoupon-itemGray .content-item .textContent .rightView .topView .fuhao {\\n  font-size: 0.12rem;\\n}\\n.myCoupon-itemGray .content-item .textContent .rightView .topView .money {\\n  font-size: 0.4rem;\\n  font-weight: bold;\\n}\\n.myCoupon-itemGray .content-item .textContent .rightView .bottomView {\\n  font-size: 0.12rem;\\n  padding-left: 0.1rem;\\n  padding-right: 0.1rem;\\n  height: 0.21rem;\\n  border-radius: 0.105rem;\\n  background-color: #a1adb9;\\n  color: #fff;\\n  line-height: 0.21rem;\\n  text-align: center;\\n}\\n\", \"\"]);\n\n// exports\n","import React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport history from \"@/util/history\";\nimport TopBar from \"@/components/topBar\";\nimport { Tabs, ListView, PullToRefresh, Toast } from \"antd-mobile\";\nimport http from \"@/util/http\";\nimport back from \"@/assets/images/ic_back.png\";\nimport quanBg from \"@/assets/images/quanBg.png\";\nimport quanUsedBg from \"@/assets/images/quanUsedBg.png\";\nimport \"./index.less\";\nimport Auth from \"@/components/auth\";\n\nconst COUPON_ATTRIBUTE = {\n  1: \"康策良品平台券\",\n  2: \"店铺优惠券\",\n  3: \"新人专享券\",\n  4: \"邀请新人奖励券\"\n};\n\n@Auth\nclass MyCoupon extends React.Component {\n  constructor(props) {\n    super(props);\n    const dataSource = new ListView.DataSource({\n      rowHasChanged: (row1, row2) => row1 !== row2\n    });\n\n    this.state = {\n      refreshing: true,\n      isLoading: true,\n      dataSource,\n      isEdit: false,\n      status: 1,\n      height: document.documentElement.clientHeight,\n      couponCode: \"\" // 兑换码\n    };\n    this.data = null;\n    this.page = 1;\n  }\n\n  componentWillMount() {\n    this.sendDataRequest(this.page, this.state.status);\n  }\n\n  componentDidMount() {\n    const hei = this.state.height - ReactDOM.findDOMNode(this.lv).clientHeight;\n    this.setState({\n      height: hei\n    });\n  }\n\n  onRefresh = () => {\n    this.setState({ refreshing: true, isLoading: true });\n    // simulate initial Ajax\n    this.page = 1;\n    this.sendDataRequest(this.page, this.state.status);\n  };\n\n  onEndReached = event => {\n    // load new data\n    // hasMore: from backend data, indicates whether it is the last page, here is false\n    if (this.state.isLoading) {\n      return;\n    }\n    this.setState({ isLoading: true });\n    this.page = this.page + 1;\n    this.sendDataRequest(this.page, this.state.status);\n  };\n\n  sendDataRequest(page, status) {\n    var url = \"/coupon.list\";\n    var params = { page, limit: 10, status };\n    http({\n      url,\n      params\n    }).then(res => {\n      console.log(\"data\", res);\n      if (this.page == 1) {\n        this.data = res.data.data.data;\n        this.setState({\n          refreshing: false,\n          isLoading: false,\n          dataSource: this.state.dataSource.cloneWithRows(this.data)\n        });\n      } else {\n        this.data = [...this.data, ...res.data.data.data];\n        this.setState({\n          isLoading: false,\n          refreshing: false,\n          dataSource: this.state.dataSource.cloneWithRows(this.data)\n        });\n      }\n    });\n  }\n\n  onTabChange = tab => {\n    this.setState(\n      {\n        status: tab.key\n      },\n      () => {\n        this.onRefresh();\n      }\n    );\n  };\n\n  selectRow = rowData => {\n    //  /couponGoodsList?coupon_id=11&reach_money=10&money=10\n    //    reach_money是需要满足的金额  money是抵扣金额\n    console.log(\"rowData\", rowData);\n    if (rowData.status === 1) {\n      history.push(\n        \"/coupongoodsList?coupon_id=\" +\n          rowData.id +\n          \"&reach_money=\" +\n          rowData.reach_money +\n          \"&money=\" +\n          rowData.money\n      );\n    }\n  };\n\n  goback() {\n    history.goBack();\n  }\n  getTimeText(rowData) {\n    var startTime = \"无限制\";\n    var endTime = \"无限制\";\n    if (rowData.start_time) {\n      var date = new Date(rowData.start_time * 1000);\n      console.log(date);\n      var month = date.getMonth() + 1;\n      startTime = date.getFullYear() + \".\" + month + \".\" + date.getDate();\n    }\n    if (rowData.end_time) {\n      var date = new Date(rowData.end_time * 1000);\n      var month = date.getMonth() + 1;\n      endTime = date.getFullYear() + \".\" + month + \".\" + date.getDate();\n    }\n    return startTime + \"-\" + endTime;\n  }\n  getCouponDesc(rowData) {\n    if (Number(rowData.reach_money) === 0) {\n      return \"无门槛使用\";\n    } else {\n      var str =\n        \"满\" +\n        parseFloat(rowData.reach_money) +\n        \"减\" +\n        parseFloat(rowData.money) +\n        \"元券\";\n      return str;\n    }\n  }\n\n  // 兑换优惠券码\n  exchangeCouponCode() {\n    const { couponCode } = this.state;\n\n    if (!couponCode) {\n      return;\n    }\n\n    http({\n      url: \"/coupon.exchange\",\n      params: {\n        code: couponCode\n      }\n    }).then(res => {\n      Toast.success(\"兑换成功\");\n      this.setState({ couponCode: \"\" });\n      //优惠券列表滚动到顶部\n      ReactDOM.findDOMNode(this.scrollEl).scrollTop = 0;\n      // 重新获取当前状态下的第一页数据\n      setTimeout(() => this.onRefresh(), 1000);\n    });\n  }\n  render() {\n    const tabs = [\n      { title: \"未使用\", key: \"1\" },\n      { title: \"已使用\", key: \"2\" },\n      { title: \"已过期\", key: \"3\" }\n    ];\n\n    const row = (rowData, sectionID, rowID) => {\n      return (\n        <div\n          key={rowID}\n          className={\n            rowData.status === 1 ? \"myCoupon-item\" : \"myCoupon-itemGray\"\n          }\n          onClick={this.selectRow.bind(this, rowData)}\n        >\n          <div\n            className=\"content-item\"\n            style={\n              rowData.status === 1\n                ? { backgroundImage: `url(${quanBg})` }\n                : { backgroundImage: `url(${quanUsedBg})` }\n            }\n          >\n            {/* 居中显示信息 */}\n            <div className=\"textContent\">\n              <div className=\"leftView\">\n                <div className=\"name\">\n                  {rowData.attribute === 2\n                    ? rowData.store_name\n                    : COUPON_ATTRIBUTE[rowData.attribute]}\n                </div>\n                <div className=\"desc\">{this.getCouponDesc(rowData)}</div>\n                <div className=\"time\">{this.getTimeText(rowData)}</div>\n              </div>\n              <div className=\"rightView\">\n                <div className=\"topView\">\n                  <span className=\"fuhao\">¥</span>\n                  <span className=\"money\">{parseFloat(rowData.money)}</span>\n                </div>\n                <div className=\"bottomView\">\n                  {rowData.status === 1\n                    ? \"立即使用\"\n                    : rowData.status === 2\n                    ? \"已使用\"\n                    : \"已过期\"}\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      );\n    };\n\n    return (\n      <div className=\"myCoupon\">\n        <div className=\"topBar\" ref={el => (this.lv = el)}>\n          <div className=\"top-operation\">\n            <div className=\"backView\">\n              <img src={back} className=\"back\" onClick={this.goback} alt=\"\" />\n            </div>\n            <div className=\"get-coupon\">\n              <input\n                placeholder=\"输入兑换码\"\n                onChange={e => {\n                  this.setState({ couponCode: e.target.value.trim() });\n                }}\n                value={this.state.couponCode}\n              />\n              <span onClick={() => this.exchangeCouponCode()}>兑换</span>\n            </div>\n          </div>\n\n          <div className=\"tabs\">\n            <Tabs\n              tabs={tabs}\n              initialPage={0}\n              onChange={this.onTabChange}\n              tabDirection=\"horizontal\"\n              tabBarActiveTextColor=\"#2D343B\"\n              tabBarInactiveTextColor=\"#657281\"\n              tabBarTextStyle={{\n                fontSize: \"0.14rem\"\n              }}\n              tabBarUnderlineStyle={{\n                height: \"0.02rem\",\n                width: \"5%\",\n                marginLeft: \"14%\"\n              }}\n              tabBarBackgroundColor=\"#fff\"\n            />\n          </div>\n        </div>\n        <div className=\"content\">\n          <ListView\n            style={{\n              height: this.state.height\n            }}\n            ref={el => (this.scrollEl = el)}\n            key=\"1\"\n            className=\"listView\"\n            dataSource={this.state.dataSource}\n            renderFooter={() => <div style={{ height: \"100px\" }} />}\n            renderRow={row}\n            pullToRefresh={\n              <PullToRefresh\n                refreshing={this.state.refreshing}\n                onRefresh={this.onRefresh}\n              />\n            }\n            onEndReached={this.onEndReached}\n            pageSize={10}\n          />\n        </div>\n      </div>\n    );\n  }\n}\nexport default MyCoupon;\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport store from \"@/store\";\n\nconst Auth = WrappedComponent =>\n  class extends React.Component {\n    static displayName =\n      WrappedComponent.displayName ||\n      WrappedComponent.name + \"_HOC\" ||\n      \"Component_HOC\";\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        render: true\n      };\n      props.cacheLifecycles &&\n        props.cacheLifecycles.didCache(this.componentDidCache);\n      props.cacheLifecycles &&\n        props.cacheLifecycles.didRecover(this.componentDidRecover);\n    }\n\n    //被缓存时生命周期\n    componentDidCache = () => {\n      this.setState({ render: false });\n    };\n\n    //被恢复时生命周期\n    componentDidRecover = () => {\n      this.setState({ render: true });\n    };\n\n    render() {\n      let states = store.getState();\n      let { isLogin } = states.login;\n      if (!isLogin) {\n        if (this.state.render) return <Redirect to=\"/login\" />;\n      }\n\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n\nexport default Auth;\n"],"sourceRoot":""}