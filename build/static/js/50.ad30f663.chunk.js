(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{1167:function(e,n,a){"use strict";a.r(n);a(762);var t=a(763),r=a.n(t),o=(a(303),a(107)),i=a.n(o),s=a(21),l=a(22),c=a(24),d=a(23),m=a(25),u=a(0),f=a.n(u),g=a(11),p=a(127),h=a(106),v=a(754),C=a.n(v),b=a(19),y=(a(757),a(915),a(47)),w=a.n(y),E=function(e){function n(){var e,a;Object(s.a)(this,n);for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(d.a)(n)).call.apply(e,[this].concat(r)))).state={dialog:!1,dialogArray:["\u62cd\u9519\u4e86","\u4e0d\u60f3\u8981\u4e86","\u5546\u54c1\u7f3a\u8d27","\u5176\u4ed6"],orderInfo:{},drugs:[],reason:""},a.onReceived=function(e){a.setState({dialog:!1,reason:e})},a.showReasonDialog=function(){a.setState({dialog:!0})},a.closeReasonDialog=function(){a.setState({dialog:!1})},a.onCancelConfirm=function(){if(a.state.reason){var e={id:a.params.id,cancel_reason:a.state.reason};Object(g.a)({url:"/order.cancel",method:"post",data:e}).then(function(e){i.a.success("\u53d6\u6d88\u6210\u529f\uff01",1),setTimeout(function(){b.a.goBack()},500)})}else i.a.fail("\u8bf7\u9009\u62e9\u9000\u6b3e\u539f\u56e0!",1)},a.toDetailPage=function(e){b.a.push("/goodsdetail/".concat(e))},a}return Object(m.a)(n,e),Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.params=w.a.parse(window.location.search.split("?")[1]);var n={id:this.params.id};Object(g.a)({url:"/order.get",params:n,loading:!0}).then(function(n){var a=n.data.data;e.setState({orderInfo:a,drugs:a.goods})})}},{key:"render",value:function(){var e=this,n=this.state,a=this.state,t=a.orderInfo,o=a.drugs;return f.a.createElement("div",{className:"--orderCancelPage"},f.a.createElement(p.b,{name:"\u53d6\u6d88\u8ba2\u5355",style:{background:"#ffffff"}}),f.a.createElement("div",{className:"orderCard"},f.a.createElement("div",{className:"storeGroup"},f.a.createElement("div",{className:"store"},f.a.createElement("div",{className:"storeName"},t.store_name),f.a.createElement(h.b,{src:C.a,style:{width:"0.07rem",height:"0.1rem"}}))),o&&o.map(function(n){return f.a.createElement("div",{className:"drugGroup",onClick:function(){e.toDetailPage(n.goods_id)}},f.a.createElement(h.b,{src:n.image,style:{borderRadius:"0.05rem",overflow:"hidden",width:"0.8rem",height:"0.8rem",flex:"none"}}),f.a.createElement("div",{className:"drugContent"},f.a.createElement("div",null,n.name),f.a.createElement("div",null,0!=n.product_id?f.a.createElement("span",{className:"drug-spec"},n.attributes.join(" ")):null,f.a.createElement("div",{className:"amountGroup"},f.a.createElement("div",{className:"priceGroup"},f.a.createElement("div",{className:"pricePrefix"},"\uffe5"),f.a.createElement("div",null,parseFloat(t.pay_money))),f.a.createElement("div",null,"x",n.count)))))})),f.a.createElement("div",{className:"cancelOrder",onClick:function(){e.showReasonDialog()}},f.a.createElement("div",{className:"text"},"\u53d6\u6d88\u8ba2\u5355\u539f\u56e0"),f.a.createElement("div",{className:"valueGroup"},f.a.createElement("div",{className:"value"},n.reason?n.reason:"\u8bf7\u9009\u62e9"),f.a.createElement(h.b,{src:C.a,style:{width:"0.07rem",height:"0.1rem"}}))),f.a.createElement("div",{className:"button",onClick:function(){e.onCancelConfirm()}},"\u786e\u5b9a"),f.a.createElement("div",null,f.a.createElement(r.a,{popup:!0,maskClosable:!0,visible:n.dialog,animationType:"slide-up",onClose:this.closeReasonDialog,className:"modalCard"},f.a.createElement("div",{className:"modalContent"},this.state.dialogArray.map(function(n){return f.a.createElement("div",null,f.a.createElement("div",{className:"content",onClick:function(){e.onReceived(n)}},n),f.a.createElement("div",{className:"line"}))}))),f.a.createElement("div",{id:"pay"})))}}]),n}(f.a.Component);n.default=E},754:function(e,n){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAeCAYAAADD0FVVAAAAAXNSR0IArs4c6QAAAX5JREFUSA2t0zFPg0AUB/B3h9aNxG9QRyc3h85+BgZxpWlMXKiDJiS2lkSH6mAcmroWBz6DU4cmbnZytN9AUxdtAk/gcoTIlXIHLAcv4Zc/7x/A6vYnZ70HHWq8KCCYP99fb5bttupyaQIh7gGE07Y9uPJ9X6uKM5TJGkLYe3l9n3YubppV4AzKGERohavVvH1+fawK59AYQgAdQ/RUSxSiaULFEovRJLZ8iZvRJDZKlVgSZQvhJXa6rpmuSHAjhcbvxyUGGEyKSpRG02BRib/Lz7noT1RHWeqm6E+shLLU+RKJZfejNdVzEYAlJdppDUnzgbbyI7UJITBrEHryOHQ+akBJQCi6R4f7A8MwgjhSJTTa4QKBmuOhMxtnPlB5pwTI846+e/B078wyXnIrnZQ3PLpzvP8Yf5ZCs2VwQHSWRPNliDA+24iuK4MDorO4KALeujJEGJ8Jk5YpgwOiM4fGZdDthjm6vVyIXigzy6ByZRThCapSRhFKQbGMIvQPdEmnBbQSlkwAAAAASUVORK5CYII="},757:function(e,n,a){"use strict";a(760);var t=a(761),r=a.n(t),o=a(21),i=a(22),s=a(24),l=a(23),c=a(25),d=(a(764),a(765)),m=a.n(d),u=a(0),f=a.n(u),g=a(79),p=(a(758),a(9)),h=new m.a.DataSource({rowHasChanged:function(e,n){return e!==n}}),v=function(e){function n(){var e,a;Object(o.a)(this,n);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(l.a)(n)).call.apply(e,[this].concat(r)))).state={dataSource:h,refreshing:!0,isLoading:!0,height:document.documentElement.clientHeight},a.onRefresh=function(){a.setState({refreshing:!0,isLoading:!0}),a.props.onRefresh&&a.props.onRefresh(),a.setState({isLoading:!0})},a.onEndReached=function(e){a.state.isLoading&&!a.state.hasMore||(a.setState({isLoading:!0}),a.props.onEndReached&&a.props.onEndReached())},a}return Object(c.a)(n,e),Object(i.a)(n,[{key:"componentDidUpdate",value:function(){document.body.style.overflow="hidden"}},{key:"componentDidMount",value:function(){var e=this.props.offset?this.props.offset:0,n=this.state.height-g.findDOMNode(this.lv).offsetTop-Object(p.c)(e);this.setState({height:n}),this.onRefresh()}},{key:"componentWillReceiveProps",value:function(e,n){e.onDataChange&&(e.onDataChange.isRefresh?this.setState({dataSource:this.state.dataSource.cloneWithRows(e.onDataChange.data),refreshing:!1,isLoading:!!e.onDataChange.isLoading&&e.onDataChange.isLoading}):this.setState({dataSource:this.state.dataSource.cloneWithRows(e.onDataChange.data),isLoading:!!e.onDataChange.isLoading&&e.onDataChange.isLoading}))}},{key:"render",value:function(){var e=this,n=function(e,n){return f.a.createElement("div",{key:"".concat(e,"-").concat(n),style:{backgroundColor:"#F5F5F9",height:5}})};return this.props.separator&&(n=this.props.separator),f.a.createElement(m.a,{key:"1",ref:function(n){return e.lv=n},dataSource:this.state.dataSource,renderFooter:function(){return e.props.loadCompleteMsg?f.a.createElement("div",{style:{textAlign:"center",whiteSpace:"pre-line"}},e.state.isLoading?"\u52a0\u8f7d\u4e2d...":"undefined"!=typeof e.props.loadCompleteMsg?e.props.loadCompleteMsg:"\u52a0\u8f7d\u5b8c\u6210"):null},renderRow:this.props.row,renderSeparator:n,useBodyScroll:!1,style:{height:this.state.height},pullToRefresh:f.a.createElement(r.a,{refreshing:this.state.refreshing,onRefresh:this.onRefresh}),onEndReached:this.onEndReached,pageSize:5})}}]),n}(f.a.Component);n.a=v},758:function(e,n,a){var t=a(759);"string"===typeof t&&(t=[[e.i,t,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(46)(t,r);t.locals&&(e.exports=t.locals)},759:function(e,n,a){(e.exports=a(45)(!1)).push([e.i,'.am-list-view-scrollview {\n  margin: 0 !important;\n  overflow: scroll !important;\n  -webkit-overflow-scrolling: touch;\n}\n.am-list-body:before {\n  content: "" !important;\n  background-color: #f5f6f8 !important;\n}\n.am-list-body:after {\n  content: "" !important;\n  background-color: #f5f6f8 !important;\n}\n',""])},915:function(e,n,a){var t=a(916);"string"===typeof t&&(t=[[e.i,t,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};a(46)(t,r);t.locals&&(e.exports=t.locals)},916:function(e,n,a){(e.exports=a(45)(!1)).push([e.i,".\\--orderCancelPage {\n  display: flex;\n  flex-direction: column;\n  background: #f5f6f8;\n  height: 100vh;\n}\n.\\--orderCancelPage .orderCard {\n  display: flex;\n  flex-direction: column;\n  background: #ffffff;\n  padding: 0.05rem 0.15rem 0.15rem 0.15rem;\n  font-size: 0.14rem;\n}\n.\\--orderCancelPage .orderCard .storeGroup {\n  width: 100%;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.\\--orderCancelPage .orderCard .storeGroup .store {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\n.\\--orderCancelPage .orderCard .storeGroup .store .storeName {\n  margin-right: 0.05rem;\n}\n.\\--orderCancelPage .orderCard .drugGroup {\n  display: flex;\n  flex-direction: row;\n  margin-top: 0.1rem;\n}\n.\\--orderCancelPage .orderCard .drugGroup .drugContent {\n  display: flex;\n  flex: auto;\n  flex-direction: column;\n  justify-content: space-between;\n  margin-left: 0.1rem;\n  margin-top: 0.03rem;\n}\n.\\--orderCancelPage .orderCard .drugGroup .drugContent .drug-spec {\n  display: inline-block;\n  margin-bottom: 0.1rem;\n  font-size: 0.12rem;\n  color: #657281;\n  padding: 0.04rem 0.06rem;\n  background: #f5f6f8;\n  border-radius: 10px;\n}\n.\\--orderCancelPage .orderCard .drugGroup .drugContent .amountGroup {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.\\--orderCancelPage .orderCard .drugGroup .drugContent .amountGroup .priceGroup {\n  display: flex;\n  flex-direction: row;\n  color: #FF5000;\n  align-items: flex-end;\n}\n.\\--orderCancelPage .orderCard .drugGroup .drugContent .amountGroup .priceGroup .pricePrefix {\n  font-size: 0.12rem;\n  margin-bottom: 0.01rem;\n}\n.\\--orderCancelPage .cancelOrder {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  height: 0.4rem;\n  background: white;\n  margin-top: 0.1rem;\n  align-items: center;\n}\n.\\--orderCancelPage .cancelOrder .text {\n  margin-left: 0.15rem;\n}\n.\\--orderCancelPage .cancelOrder .valueGroup {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-right: 0.1rem;\n}\n.\\--orderCancelPage .cancelOrder .valueGroup .value {\n  margin-right: 0.1rem;\n  color: #a1adb9;\n}\n.\\--orderCancelPage .button {\n  background: #ffb516;\n  text-align: center;\n  color: #ffffff;\n  position: fixed;\n  line-height: 0.4rem;\n  height: 0.4rem;\n  width: 100%;\n  bottom: 0;\n}\n.modalCard .am-modal-content {\n  border-top-left-radius: 0.1rem;\n  border-top-right-radius: 0.1rem;\n}\n.modalCard .modalContent {\n  padding: 0rem 0.15rem;\n  font-family: PingFangSC-Medium;\n  color: #2d343b;\n}\n.modalCard .modalContent .content {\n  height: 0.4rem;\n  line-height: 0.4rem;\n}\n.modalCard .modalContent .line {\n  background: #f5f6f8;\n  height: 1px;\n  width: 100%;\n}\n",""])}}]);
//# sourceMappingURL=50.ad30f663.chunk.js.map