(window.webpackJsonp=window.webpackJsonp||[]).push([[33],{1162:function(e,t,n){"use strict";n.r(t);n(883);var a,o=n(886),r=n.n(o),i=n(21),s=n(22),c=n(24),l=n(23),g=n(25),d=n(0),h=n.n(d),m=n(19),u=n(11),f=n(127),p=n(106),b=n(757),E=n(754),v=n.n(E),A=n(810),C=n.n(A),w=n(164),y=n.n(w),N=(n(892),n(756)),R=Object(N.a)(a=function(e){function t(){var e,n;Object(i.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(o)))).page=1,n.limit=10,n.state={count:0,dataChange:{isRefresh:!0,data:[]}},n.ids=[],n.onRefresh=function(){Object(u.a)({url:"/message.count"}).then(function(e){n.setState({count:e.data.data.count})}),n.page=1,n.loadMessage()},n.onEndReached=function(){n.page=n.page+1,n.loadMessage()},n.loadMessage=function(){var e={page:n.page,limit:n.limit,type:0};Object(u.a)({url:"/chat.paginate",params:e}).then(function(t){n.setState({dataChange:{isRefresh:1===e.page,data:1===e.page?t.data.data.data:n.state.dataChange.data.concat(t.data.data.data)}})})},n.delete=function(e){var t={id:e.id};Object(u.a)({url:"/chat.hide",params:t}).then(function(e){n.onRefresh()})},n.toNotice=function(){m.a.push("/mycenter/message/notice")},n.toMessageDetail=function(e){m.a.push("/mycenter/message/detail?id=".concat(e.store.id))},n}return Object(g.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return h.a.createElement("div",{className:"--messagePage"},h.a.createElement(f.b,{name:"\u6d88\u606f\u4e2d\u5fc3",style:{background:"#ffffff"}}),h.a.createElement("div",{className:"messageNotice",onClick:function(){e.toNotice()}},h.a.createElement(p.b,{src:C.a,style:{marginLeft:"0.15rem",marginRight:"0.1rem",width:"0.4rem",height:"0.4rem"}}),h.a.createElement("div",{className:"content"},"\u901a\u77e5\u6d88\u606f"),0!==this.state.count&&h.a.createElement("div",{style:{marginRight:"0.1rem",flex:"none",background:"#ffb516",borderRadius:"2rem",textAlign:"center",lineHeight:"0.2rem",color:"#fff",width:"0.3rem",height:"0.2rem"}},this.state.count),h.a.createElement(p.b,{src:v.a,style:{width:"0.07rem",height:"0.1rem"}})),h.a.createElement("div",{className:"line"}),h.a.createElement(b.a,{loadCompleteMsg:"",separator:function(){return h.a.createElement("div",{style:{height:"0.01rem",width:"100%",background:"#f5f6f8"}})},onRefresh:this.onRefresh,onEndReached:this.onEndReached,onDataChange:this.state.dataChange,row:function(t,n,a){var o=e.state.dataChange.data[a];return h.a.createElement(r.a,{style:{backgroundColor:"white"},autoClose:!0,right:[{text:"\u5220\u9664",onPress:function(){e.delete(o)},style:{backgroundColor:"#ff0000",color:"white"}},{text:"\u53d6\u6d88",onPress:function(){return console.log("cancel")},style:{backgroundColor:"#ddd",color:"white"}}],onOpen:function(){return console.log("global open")},onClose:function(){return console.log("global close")}},h.a.createElement("div",{className:"messageItem",onClick:function(){e.toMessageDetail(o)}},h.a.createElement(p.a,{src:o.store?o.store.logo:"",style:{marginLeft:"0.15rem",marginRight:"0.1rem",width:"0.4rem",height:"0.4rem",background:"#A1ADB9"}}),h.a.createElement("div",{className:"right"},h.a.createElement("div",{className:"titleGroup"},h.a.createElement("div",{className:"title"},o.store?o.store.name:""),h.a.createElement("div",{className:"time"},y.a.unix(o.order_time).format("MM-DD HH:mm"))),h.a.createElement("div",{className:"contentGroup"},h.a.createElement("div",{className:"content line-clamp-one"},o.last_dialogue),0!==o.unread_count&&h.a.createElement("div",{className:"count"},o.unread_count)))))}}))}}]),t}(h.a.Component))||a;t.default=R},754:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAeCAYAAADD0FVVAAAAAXNSR0IArs4c6QAAAX5JREFUSA2t0zFPg0AUB/B3h9aNxG9QRyc3h85+BgZxpWlMXKiDJiS2lkSH6mAcmroWBz6DU4cmbnZytN9AUxdtAk/gcoTIlXIHLAcv4Zc/7x/A6vYnZ70HHWq8KCCYP99fb5bttupyaQIh7gGE07Y9uPJ9X6uKM5TJGkLYe3l9n3YubppV4AzKGERohavVvH1+fawK59AYQgAdQ/RUSxSiaULFEovRJLZ8iZvRJDZKlVgSZQvhJXa6rpmuSHAjhcbvxyUGGEyKSpRG02BRib/Lz7noT1RHWeqm6E+shLLU+RKJZfejNdVzEYAlJdppDUnzgbbyI7UJITBrEHryOHQ+akBJQCi6R4f7A8MwgjhSJTTa4QKBmuOhMxtnPlB5pwTI846+e/B078wyXnIrnZQ3PLpzvP8Yf5ZCs2VwQHSWRPNliDA+24iuK4MDorO4KALeujJEGJ8Jk5YpgwOiM4fGZdDthjm6vVyIXigzy6ByZRThCapSRhFKQbGMIvQPdEmnBbQSlkwAAAAASUVORK5CYII="},756:function(e,t,n){"use strict";var a=n(21),o=n(22),r=n(24),i=n(23),s=n(25),c=n(0),l=n.n(c),g=n(283),d=(n(63),n(80));t.a=function(e){var t,n;return n=t=function(t){function n(e){var t;return Object(a.a)(this,n),(t=Object(r.a)(this,Object(i.a)(n).call(this,e))).componentDidCache=function(){t.setState({render:!1})},t.componentDidRecover=function(){t.setState({render:!0})},t.state={render:!0},e.cacheLifecycles&&e.cacheLifecycles.didCache(t.componentDidCache),e.cacheLifecycles&&e.cacheLifecycles.didRecover(t.componentDidRecover),t}return Object(s.a)(n,t),Object(o.a)(n,[{key:"render",value:function(){return!d.a.getState().login.isLogin&&this.state.render?l.a.createElement(g.a,{to:"/login"}):l.a.createElement(e,this.props)}}]),n}(l.a.Component),t.displayName=e.displayName||e.name+"_HOC"||"Component_HOC",n}},757:function(e,t,n){"use strict";n(760);var a=n(761),o=n.n(a),r=n(21),i=n(22),s=n(24),c=n(23),l=n(25),g=(n(764),n(765)),d=n.n(g),h=n(0),m=n.n(h),u=n(79),f=(n(758),n(9)),p=new d.a.DataSource({rowHasChanged:function(e,t){return e!==t}}),b=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(s.a)(this,(e=Object(c.a)(t)).call.apply(e,[this].concat(o)))).state={dataSource:p,refreshing:!0,isLoading:!0,height:document.documentElement.clientHeight},n.onRefresh=function(){n.setState({refreshing:!0,isLoading:!0}),n.props.onRefresh&&n.props.onRefresh(),n.setState({isLoading:!0})},n.onEndReached=function(e){n.state.isLoading&&!n.state.hasMore||(n.setState({isLoading:!0}),n.props.onEndReached&&n.props.onEndReached())},n}return Object(l.a)(t,e),Object(i.a)(t,[{key:"componentDidUpdate",value:function(){document.body.style.overflow="hidden"}},{key:"componentDidMount",value:function(){var e=this.props.offset?this.props.offset:0,t=this.state.height-u.findDOMNode(this.lv).offsetTop-Object(f.c)(e);this.setState({height:t}),this.onRefresh()}},{key:"componentWillReceiveProps",value:function(e,t){e.onDataChange&&(e.onDataChange.isRefresh?this.setState({dataSource:this.state.dataSource.cloneWithRows(e.onDataChange.data),refreshing:!1,isLoading:!!e.onDataChange.isLoading&&e.onDataChange.isLoading}):this.setState({dataSource:this.state.dataSource.cloneWithRows(e.onDataChange.data),isLoading:!!e.onDataChange.isLoading&&e.onDataChange.isLoading}))}},{key:"render",value:function(){var e=this,t=function(e,t){return m.a.createElement("div",{key:"".concat(e,"-").concat(t),style:{backgroundColor:"#F5F5F9",height:5}})};return this.props.separator&&(t=this.props.separator),m.a.createElement(d.a,{key:"1",ref:function(t){return e.lv=t},dataSource:this.state.dataSource,renderFooter:function(){return e.props.loadCompleteMsg?m.a.createElement("div",{style:{textAlign:"center",whiteSpace:"pre-line"}},e.state.isLoading?"\u52a0\u8f7d\u4e2d...":"undefined"!=typeof e.props.loadCompleteMsg?e.props.loadCompleteMsg:"\u52a0\u8f7d\u5b8c\u6210"):null},renderRow:this.props.row,renderSeparator:t,useBodyScroll:!1,style:{height:this.state.height},pullToRefresh:m.a.createElement(o.a,{refreshing:this.state.refreshing,onRefresh:this.onRefresh}),onEndReached:this.onEndReached,pageSize:5})}}]),t}(m.a.Component);t.a=b},758:function(e,t,n){var a=n(759);"string"===typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(46)(a,o);a.locals&&(e.exports=a.locals)},759:function(e,t,n){(e.exports=n(45)(!1)).push([e.i,'.am-list-view-scrollview {\n  margin: 0 !important;\n  overflow: scroll !important;\n  -webkit-overflow-scrolling: touch;\n}\n.am-list-body:before {\n  content: "" !important;\n  background-color: #f5f6f8 !important;\n}\n.am-list-body:after {\n  content: "" !important;\n  background-color: #f5f6f8 !important;\n}\n',""])},810:function(e,t){e.exports="data:image/png;base64,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"},892:function(e,t,n){var a=n(893);"string"===typeof a&&(a=[[e.i,a,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(46)(a,o);a.locals&&(e.exports=a.locals)},893:function(e,t,n){(e.exports=n(45)(!1)).push([e.i,".\\--messagePage {\n  display: flex;\n  flex-direction: column;\n  background: #ffffff;\n  height: 100vh;\n}\n.\\--messagePage .messageNotice {\n  display: flex;\n  flex: none;\n  flex-direction: row;\n  align-items: center;\n  height: 0.7rem;\n  line-height: 0.7rem;\n  margin-right: 0.15rem;\n}\n.\\--messagePage .messageNotice .content {\n  flex: auto;\n  color: #2d343b;\n  font-size: 0.14rem;\n  font-weight: bold;\n}\n.\\--messagePage .messageNotice .count {\n  width: 0.3rem;\n  height: 0.19rem;\n  padding: 0.01rem 0.05rem;\n  line-height: 0.19rem;\n  background: #ffb516;\n  border-radius: 10px;\n  color: #ffffff;\n  text-align: center;\n  margin-right: 0.1rem;\n}\n.\\--messagePage .line {\n  flex: none;\n  height: 0.01rem;\n  width: 100%;\n  background: #f5f6f8;\n}\n.\\--messagePage .messageItem {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  height: 0.7rem;\n  flex: auto;\n  margin-right: 0.15rem;\n}\n.\\--messagePage .messageItem .right {\n  width: 100%;\n}\n.\\--messagePage .messageItem .titleGroup {\n  flex: auto;\n  display: flex;\n  justify-content: space-between;\n}\n.\\--messagePage .messageItem .titleGroup .title {\n  flex: auto;\n  font-weight: bold;\n  color: #2d343b;\n}\n.\\--messagePage .messageItem .titleGroup .time {\n  color: #657281;\n}\n.\\--messagePage .messageItem .contentGroup {\n  display: flex;\n  margin-top: 0.1rem;\n  color: #657281;\n  justify-content: space-between;\n}\n.\\--messagePage .messageItem .contentGroup .content {\n  line-height: 0.2rem;\n}\n.\\--messagePage .messageItem .contentGroup .count {\n  flex: none;\n  background: #ffb516;\n  border-radius: 2rem;\n  text-align: center;\n  line-height: 0.2rem;\n  color: #fff;\n  width: 0.2rem;\n  height: 0.2rem;\n}\n.\\--messagePage .am-swipe-actions-right {\n  padding-top: 0.02rem;\n  padding-bottom: 0.02rem;\n}\n",""])}}]);
//# sourceMappingURL=33.22e49902.chunk.js.map