{"version":3,"sources":["pages/myCenter/message/index.jsx","assets/images/ic_order_store_right.png","components/auth/index.jsx","components/listView/index.js","webpack:///./src/components/listView/index.less?778c","components/listView/index.less","assets/images/ic_notice.png","webpack:///./src/pages/myCenter/message/index.less?3964","pages/myCenter/message/index.less"],"names":["Index","Auth","page","limit","state","count","dataChange","isRefresh","data","ids","onRefresh","http","url","then","res","_this","setState","loadMessage","onEndReached","params","type","concat","delete","item","id","toNotice","history","push","toMessageDetail","store","_this2","this","react__WEBPACK_IMPORTED_MODULE_7___default","a","createElement","className","_components_topBar__WEBPACK_IMPORTED_MODULE_10__","name","style","background","onClick","_components_imageView__WEBPACK_IMPORTED_MODULE_11__","src","icNotice","marginLeft","marginRight","width","height","flex","borderRadius","textAlign","lineHeight","color","storeRight","_components_listView__WEBPACK_IMPORTED_MODULE_12__","loadCompleteMsg","separator","onDataChange","row","rowData","sectionID","rowID","antd_mobile_lib_swipe_action__WEBPACK_IMPORTED_MODULE_1___default","backgroundColor","autoClose","right","text","onPress","console","log","onOpen","onClose","logo","moment","unix","order_time","format","last_dialogue","unread_count","React","Component","module","exports","WrappedComponent","_class","_temp","_React$Component","props","Object","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","componentDidCache","render","componentDidRecover","cacheLifecycles","didCache","didRecover","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","getState","login","isLogin","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","displayName","dataSource","antd_mobile_lib_list_view__WEBPACK_IMPORTED_MODULE_8___default","DataSource","rowHasChanged","row1","row2","MyListView","refreshing","isLoading","document","documentElement","clientHeight","event","hasMore","body","overflow","offset","hei","ReactDOM","lv","offsetTop","rem2px","nextProps","nextContext","cloneWithRows","react__WEBPACK_IMPORTED_MODULE_9___default","ref","el","renderFooter","whiteSpace","renderRow","renderSeparator","useBodyScroll","pullToRefresh","antd_mobile_lib_pull_to_refresh__WEBPACK_IMPORTED_MODULE_1___default","pageSize","content","__webpack_require__","i","options","hmr","transform","insertInto","undefined","locals"],"mappings":"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","file":"static/js/33.22e49902.chunk.js","sourcesContent":["import React from \"react\";\nimport history from \"@/util/history\";\nimport http from \"@/util/http\";\nimport TopBar from \"@/components/topBar\";\nimport ImageView from \"@/components/imageView\";\nimport { RoundImageView } from \"@/components/imageView\";\nimport MyListView from \"@/components/listView\";\nimport storeRight from \"@/assets/images/ic_order_store_right.png\";\nimport icNotice from \"@/assets/images/ic_notice.png\";\nimport moment from \"moment\";\nimport \"./index.less\";\nimport { SwipeAction } from \"antd-mobile\";\nimport Auth from \"@/components/auth\";\n\n@Auth\nclass Index extends React.Component {\n  page = 1;\n  limit = 10;\n\n  state = {\n    count: 0,\n    dataChange: {\n      isRefresh: true,\n      data: []\n    }\n  };\n  ids = [];\n\n  onRefresh = () => {\n    http({\n      url: \"/message.count\"\n    }).then(res => {\n      this.setState({\n        count: res.data.data.count\n      });\n    });\n    this.page = 1;\n    this.loadMessage();\n  };\n\n  onEndReached = () => {\n    this.page = this.page + 1;\n    this.loadMessage();\n  };\n\n  loadMessage = () => {\n    let params = {\n      page: this.page,\n      limit: this.limit,\n      type: 0\n    };\n    http({\n      url: \"/chat.paginate\",\n      params\n    }).then(res => {\n      this.setState({\n        dataChange: {\n          isRefresh: params.page === 1,\n          data:\n            params.page === 1\n              ? res.data.data.data\n              : this.state.dataChange.data.concat(res.data.data.data)\n        }\n      });\n    });\n  };\n\n  delete = item => {\n    let params = {\n      id: item.id\n    };\n    http({\n      url: \"/chat.hide\",\n      params\n    }).then(res => {\n      this.onRefresh();\n    });\n  };\n\n  toNotice = () => {\n    history.push(`/mycenter/message/notice`);\n  };\n\n  toMessageDetail = item => {\n    history.push(`/mycenter/message/detail?id=${item.store.id}`);\n  };\n\n  render() {\n    return (\n      <div className=\"--messagePage\">\n        <TopBar name=\"消息中心\" style={{ background: \"#ffffff\" }} />\n\n        <div\n          className=\"messageNotice\"\n          onClick={() => {\n            this.toNotice();\n          }}\n        >\n          <ImageView\n            src={icNotice}\n            style={{\n              marginLeft: \"0.15rem\",\n              marginRight: \"0.1rem\",\n              width: \"0.4rem\",\n              height: \"0.4rem\"\n            }}\n          />\n          <div className=\"content\">通知消息</div>\n          {this.state.count !== 0 && (\n            <div\n              style={{\n                marginRight: \"0.1rem\",\n                flex: \"none\",\n                background: \"#ffb516\",\n                borderRadius: \"2rem\",\n                textAlign: \"center\",\n                lineHeight: \"0.2rem\",\n                color: \"#fff\",\n                width: \"0.3rem\",\n                height: \"0.2rem\"\n              }}\n            >\n              {this.state.count}\n            </div>\n          )}\n          <ImageView\n            src={storeRight}\n            style={{ width: \"0.07rem\", height: \"0.1rem\" }}\n          />\n        </div>\n\n        <div className=\"line\" />\n\n        <MyListView\n          loadCompleteMsg=\"\"\n          separator={() => (\n            <div\n              style={{\n                height: \"0.01rem\",\n                width: \"100%\",\n                background: \"#f5f6f8\"\n              }}\n            />\n          )}\n          onRefresh={this.onRefresh}\n          onEndReached={this.onEndReached}\n          onDataChange={this.state.dataChange}\n          row={(rowData, sectionID, rowID) => {\n            let item = this.state.dataChange.data[rowID];\n            return (\n              <SwipeAction\n                style={{\n                  backgroundColor: \"white\"\n                }}\n                autoClose\n                right={[\n                  {\n                    text: \"删除\",\n                    onPress: () => {\n                      this.delete(item);\n                    },\n                    style: { backgroundColor: \"#ff0000\", color: \"white\" }\n                  },\n                  {\n                    text: \"取消\",\n                    onPress: () => console.log(\"cancel\"),\n                    style: { backgroundColor: \"#ddd\", color: \"white\" }\n                  }\n                ]}\n                onOpen={() => console.log(\"global open\")}\n                onClose={() => console.log(\"global close\")}\n              >\n                <div\n                  className=\"messageItem\"\n                  onClick={() => {\n                    this.toMessageDetail(item);\n                  }}\n                >\n                  <RoundImageView\n                    src={item.store ? item.store.logo : \"\"}\n                    style={{\n                      marginLeft: \"0.15rem\",\n                      marginRight: \"0.1rem\",\n                      width: \"0.4rem\",\n                      height: \"0.4rem\",\n                      background: \"#A1ADB9\"\n                    }}\n                  />\n                  <div className=\"right\">\n                    <div className=\"titleGroup\">\n                      <div className=\"title\">\n                        {item.store ? item.store.name : \"\"}\n                      </div>\n                      <div className=\"time\">\n                        {moment.unix(item.order_time).format(\"MM-DD HH:mm\")}\n                      </div>\n                    </div>\n                    <div className=\"contentGroup\">\n                      <div className=\"content line-clamp-one\">\n                        {item.last_dialogue}\n                      </div>\n                      {item.unread_count !== 0 && (\n                        <div className=\"count\">{item.unread_count}</div>\n                      )}\n                    </div>\n                  </div>\n                </div>\n              </SwipeAction>\n            );\n          }}\n        />\n      </div>\n    );\n  }\n}\nexport default Index;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAeCAYAAADD0FVVAAAAAXNSR0IArs4c6QAAAX5JREFUSA2t0zFPg0AUB/B3h9aNxG9QRyc3h85+BgZxpWlMXKiDJiS2lkSH6mAcmroWBz6DU4cmbnZytN9AUxdtAk/gcoTIlXIHLAcv4Zc/7x/A6vYnZ70HHWq8KCCYP99fb5bttupyaQIh7gGE07Y9uPJ9X6uKM5TJGkLYe3l9n3YubppV4AzKGERohavVvH1+fawK59AYQgAdQ/RUSxSiaULFEovRJLZ8iZvRJDZKlVgSZQvhJXa6rpmuSHAjhcbvxyUGGEyKSpRG02BRib/Lz7noT1RHWeqm6E+shLLU+RKJZfejNdVzEYAlJdppDUnzgbbyI7UJITBrEHryOHQ+akBJQCi6R4f7A8MwgjhSJTTa4QKBmuOhMxtnPlB5pwTI846+e/B078wyXnIrnZQ3PLpzvP8Yf5ZCs2VwQHSWRPNliDA+24iuK4MDorO4KALeujJEGJ8Jk5YpgwOiM4fGZdDthjm6vVyIXigzy6ByZRThCapSRhFKQbGMIvQPdEmnBbQSlkwAAAAASUVORK5CYII=\"","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport store from \"@/store\";\n\nconst Auth = WrappedComponent =>\n  class extends React.Component {\n    static displayName =\n      WrappedComponent.displayName ||\n      WrappedComponent.name + \"_HOC\" ||\n      \"Component_HOC\";\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        render: true\n      };\n      props.cacheLifecycles &&\n        props.cacheLifecycles.didCache(this.componentDidCache);\n      props.cacheLifecycles &&\n        props.cacheLifecycles.didRecover(this.componentDidRecover);\n    }\n\n    //被缓存时生命周期\n    componentDidCache = () => {\n      this.setState({ render: false });\n    };\n\n    //被恢复时生命周期\n    componentDidRecover = () => {\n      this.setState({ render: true });\n    };\n\n    render() {\n      let states = store.getState();\n      let { isLogin } = states.login;\n      if (!isLogin) {\n        if (this.state.render) return <Redirect to=\"/login\" />;\n      }\n\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n\nexport default Auth;\n","import React from \"react\";\nimport { ListView, PullToRefresh } from \"antd-mobile\";\nimport * as ReactDOM from \"react-dom\";\nimport \"./index.less\";\nimport { rem2px } from \"../../util/methods\";\n\nconst dataSource = new ListView.DataSource({\n  rowHasChanged: (row1, row2) => row1 !== row2\n});\n\nclass MyListView extends React.Component {\n  state = {\n    dataSource,\n    refreshing: true,\n    isLoading: true,\n    height: document.documentElement.clientHeight\n  };\n\n  componentDidUpdate() {\n    document.body.style.overflow = \"hidden\";\n  }\n\n  componentDidMount() {\n    let offset = this.props.offset ? this.props.offset : 0;\n    const hei =\n      this.state.height -\n      ReactDOM.findDOMNode(this.lv).offsetTop -\n      rem2px(offset);\n    this.setState({\n      height: hei\n    });\n    this.onRefresh();\n  }\n\n  componentWillReceiveProps(nextProps, nextContext) {\n    if (nextProps.onDataChange) {\n      if (nextProps.onDataChange.isRefresh) {\n        this.setState({\n          dataSource: this.state.dataSource.cloneWithRows(\n            nextProps.onDataChange.data\n          ),\n          refreshing: false,\n          isLoading: nextProps.onDataChange.isLoading\n            ? nextProps.onDataChange.isLoading\n            : false\n        });\n      } else {\n        this.setState({\n          dataSource: this.state.dataSource.cloneWithRows(\n            nextProps.onDataChange.data\n          ),\n          isLoading: nextProps.onDataChange.isLoading\n            ? nextProps.onDataChange.isLoading\n            : false\n        });\n      }\n    }\n  }\n\n  onRefresh = () => {\n    this.setState({ refreshing: true, isLoading: true });\n    if (this.props.onRefresh) {\n      this.props.onRefresh();\n    }\n    this.setState({ isLoading: true });\n  };\n\n  onEndReached = event => {\n    if (this.state.isLoading && !this.state.hasMore) {\n      return;\n    }\n    this.setState({ isLoading: true });\n    if (this.props.onEndReached) {\n      this.props.onEndReached();\n    }\n  };\n\n  render() {\n    let separator = (sectionID, rowID) => (\n      <div\n        key={`${sectionID}-${rowID}`}\n        style={{\n          backgroundColor: \"#F5F5F9\",\n          height: 5\n        }}\n      />\n    );\n    if (this.props.separator) {\n      separator = this.props.separator;\n    }\n    return (\n      <ListView\n        key={\"1\"}\n        ref={el => (this.lv = el)}\n        dataSource={this.state.dataSource}\n        renderFooter={() => {\n          if (this.props.loadCompleteMsg) {\n            return (\n              <div style={{ textAlign: \"center\", whiteSpace: \"pre-line\" }}>\n                {this.state.isLoading\n                  ? \"加载中...\"\n                  : typeof this.props.loadCompleteMsg != \"undefined\"\n                  ? this.props.loadCompleteMsg\n                  : \"加载完成\"}\n              </div>\n            );\n          } else {\n            return null;\n          }\n        }}\n        renderRow={this.props.row}\n        renderSeparator={separator}\n        useBodyScroll={false}\n        style={{\n          height: this.state.height\n        }}\n        pullToRefresh={\n          <PullToRefresh\n            refreshing={this.state.refreshing}\n            onRefresh={this.onRefresh}\n          />\n        }\n        onEndReached={this.onEndReached}\n        pageSize={5}\n      />\n    );\n  }\n}\n\nexport default MyListView;\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".am-list-view-scrollview {\\n  margin: 0 !important;\\n  overflow: scroll !important;\\n  -webkit-overflow-scrolling: touch;\\n}\\n.am-list-body:before {\\n  content: \\\"\\\" !important;\\n  background-color: #f5f6f8 !important;\\n}\\n.am-list-body:after {\\n  content: \\\"\\\" !important;\\n  background-color: #f5f6f8 !important;\\n}\\n\", \"\"]);\n\n// exports\n","module.exports = \"data:image/png;base64,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\"","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".\\\\--messagePage {\\n  display: flex;\\n  flex-direction: column;\\n  background: #ffffff;\\n  height: 100vh;\\n}\\n.\\\\--messagePage .messageNotice {\\n  display: flex;\\n  flex: none;\\n  flex-direction: row;\\n  align-items: center;\\n  height: 0.7rem;\\n  line-height: 0.7rem;\\n  margin-right: 0.15rem;\\n}\\n.\\\\--messagePage .messageNotice .content {\\n  flex: auto;\\n  color: #2d343b;\\n  font-size: 0.14rem;\\n  font-weight: bold;\\n}\\n.\\\\--messagePage .messageNotice .count {\\n  width: 0.3rem;\\n  height: 0.19rem;\\n  padding: 0.01rem 0.05rem;\\n  line-height: 0.19rem;\\n  background: #ffb516;\\n  border-radius: 10px;\\n  color: #ffffff;\\n  text-align: center;\\n  margin-right: 0.1rem;\\n}\\n.\\\\--messagePage .line {\\n  flex: none;\\n  height: 0.01rem;\\n  width: 100%;\\n  background: #f5f6f8;\\n}\\n.\\\\--messagePage .messageItem {\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  height: 0.7rem;\\n  flex: auto;\\n  margin-right: 0.15rem;\\n}\\n.\\\\--messagePage .messageItem .right {\\n  width: 100%;\\n}\\n.\\\\--messagePage .messageItem .titleGroup {\\n  flex: auto;\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.\\\\--messagePage .messageItem .titleGroup .title {\\n  flex: auto;\\n  font-weight: bold;\\n  color: #2d343b;\\n}\\n.\\\\--messagePage .messageItem .titleGroup .time {\\n  color: #657281;\\n}\\n.\\\\--messagePage .messageItem .contentGroup {\\n  display: flex;\\n  margin-top: 0.1rem;\\n  color: #657281;\\n  justify-content: space-between;\\n}\\n.\\\\--messagePage .messageItem .contentGroup .content {\\n  line-height: 0.2rem;\\n}\\n.\\\\--messagePage .messageItem .contentGroup .count {\\n  flex: none;\\n  background: #ffb516;\\n  border-radius: 2rem;\\n  text-align: center;\\n  line-height: 0.2rem;\\n  color: #fff;\\n  width: 0.2rem;\\n  height: 0.2rem;\\n}\\n.\\\\--messagePage .am-swipe-actions-right {\\n  padding-top: 0.02rem;\\n  padding-bottom: 0.02rem;\\n}\\n\", \"\"]);\n\n// exports\n"],"sourceRoot":""}