{"version":3,"sources":["pages/searchPage/delSearchHistoryModal/index.jsx","pages/searchPage/index.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/antd-mobile/lib/_util/getLocale.js","../node_modules/antd-mobile/lib/search-bar/style/index.js","webpack:///./node_modules/antd-mobile/lib/search-bar/style/index.less?617f","../node_modules/antd-mobile/lib/search-bar/style/index.less","../node_modules/antd-mobile/lib/search-bar/index.js","../node_modules/antd-mobile/lib/search-bar/PropsType.js","../node_modules/antd-mobile/lib/search-bar/locale/zh_CN.js","webpack:///./src/pages/searchPage/delSearchHistoryModal/index.less?d343","pages/searchPage/delSearchHistoryModal/index.less","webpack:///./src/pages/searchPage/index.less?a76a","pages/searchPage/index.less"],"names":["DelSearchHistoryModal","connect","props","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","_this$props","onClose","dispatch","react_default","a","createElement","modal_default","popup","visible","animationType","className","onClick","actions","searchList","React","Component","SearchPage","state","objectSpread","cache","withRouter","_this","inputFocus","window","scroll","doSearch","history","_this$state","keyword","search_hint","find","i","concat","toConsumableArray","slice","setEvent","keywordClick","replace","type","data","http","url","method","then","res","hotSearch","showDelModal","setState","qs","parse","location","search","split","autoFocusInst","focus","getHotSearch","_this2","hot_search","document","getElementsByTagName","blur","_this3","_this$state2","_this$props2","topBar","name","search_bar_default","placeholder","ref","onChange","onSubmit","onBlur","onFocus","style","color","length","map","item","index","key","fontSize","float","searchPage_delSearchHistoryModal","_toConsumableArray","arr","Array","isArray","arr2","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","from","_iterableToArray","TypeError","_nonIterableSpread","__webpack_require__","d","__webpack_exports__","defineProperty","exports","value","obj","_extends2","_extends3","__esModule","default","getComponentLocale","context","componentName","getDefaultLocale","locale","antLocale","defaultLocale","result","lang","getLocaleCode","localeCode","exist","content","module","options","hmr","transform","insertInto","undefined","locals","push","_interopRequireDefault","_defineProperty3","_classCallCheck3","_createClass3","_possibleConstructorReturn3","_inherits3","_classnames5","_interopRequireWildcard","PropTypes","_rmcFeedback2","_getDataAttr2","_getLocale","_PropsType","newObj","hasOwnProperty","SearchBar","_React$Component","__proto__","e","preventDefault","inputRef","target","firstFocus","cb","onBlurTimeout","blurFromOnClear","activeElement","requestAnimationFrame","setTimeout","body","scrollTop","onClear","doClear","arguments","onCancel","defaultValue","rightBtnRef","initBtn","getComputedStyle","rightBtnInitMarginleft","marginLeft","componentDidUpdate","syntheticPhRef","inputContainerRef","indexOf","prefixCls","syntheticPhContainerRef","realWidth","getBoundingClientRect","width","Math","ceil","showCancelButton","marginRight","offsetWidth","parseInt","nextProps","nextFrameId","cancelAnimationFrame","clearTimeout","_classnames3","_props","disabled","maxLength","cancelText","_state","wrapCls","clearCls","cancelCls","el","action","visibility","activeClassName","defaultProps","contextTypes","object","noop"],"mappings":"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","file":"static/js/23.632ce9ce.chunk.js","sourcesContent":["import React from \"react\";\nimport { Modal } from \"antd-mobile\";\nimport { connect } from \"react-redux\";\nimport * as actions from \"@/store/actions/cache\";\nimport \"./index.less\";\n\n@connect()\nclass DelSearchHistoryModal extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { onClose, dispatch } = this.props;\n    return (\n      <Modal\n        popup\n        visible\n        onClose={onClose}\n        animationType=\"slide-up\"\n        className=\"--del-search-history-modal\"\n      >\n        <div className=\"del-modal-content\">\n          <div className=\"title\">是否确定清空历史记录？</div>\n          <div className=\"buttons\">\n            <div className=\"cancel\" onClick={onClose}>\n              取消\n            </div>\n            <div\n              className=\"ok\"\n              onClick={() => {\n                dispatch(actions.setCache({ searchList: [] }));\n                onClose();\n              }}\n            >\n              确定\n            </div>\n          </div>\n        </div>\n      </Modal>\n    );\n  }\n}\n\nexport default DelSearchHistoryModal;\n","import React from \"react\";\nimport back from \"@/assets/images/ic_back.png\";\nimport DelSearchHistoryModal from \"./delSearchHistoryModal\";\nimport { SearchBar } from \"antd-mobile\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport qs from \"qs\";\nimport http from \"@/util/http\";\nimport * as actions from \"@/store/actions/cache\";\nimport \"./index.less\";\nimport { setEvent } from \"../../util/methods\";\nimport TopBar from \"@/components/topBar\";\n\n@withRouter\n@connect(state => ({\n  ...state.cache\n}))\nclass SearchPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      hotSearch: [],\n      search_hint: \"\",\n      showDelModal: false,\n      keyword: \"\"\n    };\n  }\n\n  componentDidMount() {\n    this.setState({\n      search_hint: qs.parse(window.location.search.split(\"?\")[1]).search_hint\n    });\n    this.autoFocusInst.focus();\n    this.getHotSearch();\n    this.props.dispatch(actions.getCache(\"searchList\"));\n  }\n\n  getHotSearch() {\n    http({\n      url: \"/keyword.get\"\n    }).then(res => {\n      this.setState({\n        hotSearch: res.data.data.hot_search\n          ? res.data.data.hot_search.split(\",\")\n          : []\n        // search_hint: res.data.data.search_hint\n      });\n    });\n  }\n\n  // 键盘落下页面被撑起来不回去\n  inputFocus = () => {\n    window.scroll(0, 0);\n  };\n\n  doSearch = () => {\n    const { searchList, history, dispatch } = this.props;\n    const { keyword, search_hint } = this.state;\n    //缓存搜索记录\n    if (searchList) {\n      !searchList.find(i => i === keyword) &&\n        keyword &&\n        dispatch(\n          actions.setCache({\n            searchList: [keyword, ...searchList].slice(0, 5)\n          })\n        );\n    } else {\n      keyword && dispatch(actions.setCache({ searchList: [keyword] }));\n    }\n\n    if (!keyword && search_hint) {\n      if (searchList) {\n        !searchList.find(i => i === search_hint) &&\n          dispatch(\n            actions.setCache({\n              searchList: [search_hint, ...searchList].slice(0, 5)\n            })\n          );\n      } else {\n        dispatch(actions.setCache({ searchList: [search_hint] }));\n      }\n    }\n\n    setEvent(\"搜索页\", \"用户自主搜索关键词\");\n    this.keywordClick(keyword || search_hint, 2);\n    history.replace(`/searchresult?keyword=${keyword || search_hint}`);\n  };\n\n  //记录用户搜索的关键词\n  keywordClick = (keyword, type) => {\n    //type 1:运营配置的热搜词，2用户主动搜索的词\n    const data = { keyword, type };\n    http({\n      url: \"/keyword.click\",\n      data,\n      method: \"post\"\n    }).then(res => {});\n  };\n\n  componentWillUnmount() {\n    if (document.getElementsByTagName(\"input\")[0]) {\n      document.getElementsByTagName(\"input\")[0].blur();\n    }\n  }\n\n  render() {\n    const { hotSearch, showDelModal, search_hint } = this.state;\n    const { history, searchList } = this.props;\n    return (\n      <div className=\"--search-page\">\n        <TopBar name=\"搜索\" />\n        <div className=\"search-bar\">\n          {/* <img\n            src={back}\n            className=\"back\"\n            style={{ height: \".18.5rem\", width: \".1rem\" }}\n            onClick={this.props.history.goBack}\n          /> */}\n          <SearchBar\n            className=\"search-inp\"\n            placeholder={search_hint}\n            ref={ref => (this.autoFocusInst = ref)}\n            // autoFocus\n            onChange={keyword => {\n              this.setState({ keyword });\n            }}\n            onSubmit={() => {\n              this.doSearch();\n            }}\n            onBlur={this.inputFocus}\n            onFocus={this.inputFocus}\n          />\n          <span style={{ color: \"#657281\" }} onClick={this.doSearch}>\n            搜索\n          </span>\n        </div>\n        <div className=\"scroll-view\">\n          {/* 热门搜索 */}\n          {hotSearch && hotSearch.length > 0 && (\n            <div>\n              <div className=\"title\">热门搜索</div>\n              <div className=\"tags\">\n                {hotSearch.map((item, index) => (\n                  <div\n                    key={index}\n                    onClick={() => {\n                      setEvent(\"搜索页\", \"平台默认搜索关键词\");\n                      this.keywordClick(item, 1);\n                      history.replace(`/searchresult?keyword=${item}`);\n                    }}\n                  >\n                    {item}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n\n          {/* 搜索历史 */}\n          {searchList && searchList.length > 0 && (\n            <div>\n              <div className=\"title\">\n                历史记录\n                <i\n                  onClick={() => {\n                    this.setState({ showDelModal: true });\n                  }}\n                  className=\"iconfont iconshanchu\"\n                  style={{\n                    color: \"#657281\",\n                    fontSize: \".15rem\",\n                    float: \"right\"\n                  }}\n                />\n              </div>\n              <div className=\"tags\">\n                {searchList.slice(0, 10).map((item, index) => (\n                  <div\n                    key={index}\n                    onClick={() => {\n                      setEvent(\"搜索页\", \"用户自主搜索关键词\");\n                      this.keywordClick(item, 2);\n                      history.replace(`/searchresult?keyword=${item}`);\n                    }}\n                  >\n                    {item}\n                  </div>\n                ))}\n              </div>\n            </div>\n          )}\n        </div>\n\n        {showDelModal && (\n          <DelSearchHistoryModal\n            onClose={() => {\n              this.setState({ showDelModal: false });\n            }}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default SearchPage;\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nexports.getComponentLocale = getComponentLocale;\nexports.getLocaleCode = getLocaleCode;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction getComponentLocale(props, context, componentName, getDefaultLocale) {\n  var locale = {};\n\n  if (context && context.antLocale && context.antLocale[componentName]) {\n    locale = context.antLocale[componentName];\n  } else {\n    var defaultLocale = getDefaultLocale(); // TODO: make default lang of antd be English\n    // https://github.com/ant-design/ant-design/issues/6334\n\n    locale = defaultLocale['default'] || defaultLocale;\n  }\n\n  var result = (0, _extends3['default'])({}, locale);\n\n  if (props.locale) {\n    result = (0, _extends3['default'])({}, result, props.locale);\n\n    if (props.locale.lang) {\n      result.lang = (0, _extends3['default'])({}, locale.lang, props.locale.lang);\n    }\n  }\n\n  return result;\n}\n\nfunction getLocaleCode(context) {\n  var localeCode = context.antLocale && context.antLocale.locale; // Had use LocaleProvide but didn't set locale\n\n  if (context.antLocale && context.antLocale.exist && !localeCode) {\n    return 'zh-cn';\n  }\n\n  return localeCode;\n}","'use strict';\n\nrequire('../../style/');\n\nrequire('./index.less');","\nvar content = require(\"!!../../../../css-loader/index.js!../../../../less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../css-loader/index.js!../../../../less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../css-loader/index.js!../../../../less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"/* 默认搜索bar */\\n.am-search {\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  height: 44px;\\n  padding: 0 8px;\\n  overflow: hidden;\\n  background-color: #efeff4;\\n}\\n.am-search-input {\\n  flex: 1;\\n  position: relative;\\n  width: 100%;\\n  height: 28px;\\n  overflow: hidden;\\n  background-color: #fff;\\n  background-clip: padding-box;\\n  border-radius: 3px;\\n}\\n.am-search-input .am-search-synthetic-ph,\\n.am-search-input input[type=\\\"search\\\"] {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n}\\n.am-search-input .am-search-synthetic-ph {\\n  box-sizing: content-box;\\n  z-index: 1;\\n  height: 28px;\\n  line-height: 28px;\\n  width: 100%;\\n  transition: width .3s;\\n  display: block;\\n  text-align: center;\\n}\\n.am-search-input .am-search-synthetic-ph-icon {\\n  display: inline-block;\\n  margin-right: 5px;\\n  width: 15px;\\n  height: 15px;\\n  overflow: hidden;\\n  vertical-align: -2.5px;\\n  background-repeat: no-repeat;\\n  background-size: 15px auto;\\n  background-image: url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg%20width%3D'38'%20height%3D'36'%20viewBox%3D'0%200%2038%2036'%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%3E%3Cpath%20d%3D'M29.05%2025.23a15.81%2015.81%200%200%200%203.004-9.294c0-8.8-7.17-15.934-16.017-15.934C7.192.002.02%207.136.02%2015.936c0%208.802%207.172%2015.937%2016.017%2015.937%204.148%200%207.928-1.569%2010.772-4.143l8.873%208.232%202.296-2.45-8.927-8.282zM16.2%2028.933c-7.19%200-13.04-5.788-13.04-12.903%200-7.113%205.85-12.904%2013.04-12.904%207.19%200%2012.9%205.79%2012.9%2012.904%200%207.115-5.71%2012.903-12.9%2012.903z'%20fill%3D'%23bbb'%20fill-rule%3D'evenodd'%2F%3E%3C%2Fsvg%3E\\\");\\n}\\n.am-search-input .am-search-synthetic-ph-placeholder {\\n  color: #bbb;\\n  font-size: 15px;\\n}\\n.am-search-input input[type=\\\"search\\\"] {\\n  z-index: 2;\\n  opacity: 0;\\n  width: 100%;\\n  text-align: left;\\n  display: block;\\n  color: #2D343B;\\n  height: 28px;\\n  font-size: 15px;\\n  background-color: transparent;\\n  border: 0;\\n}\\n.am-search-input input[type=\\\"search\\\"]::placeholder {\\n  background: none;\\n  text-align: left;\\n  color: transparent;\\n}\\n.am-search-input input[type=\\\"search\\\"]::-webkit-search-cancel-button {\\n  -webkit-appearance: none;\\n}\\n.am-search-input .am-search-clear {\\n  box-sizing: content-box;\\n  position: absolute;\\n  display: none;\\n  z-index: 3;\\n  width: 15px;\\n  height: 15px;\\n  padding: 6.5px;\\n  border-radius: 50%;\\n  top: 0;\\n  right: 0;\\n  background-color: transparent;\\n  background-position: center;\\n  background-repeat: no-repeat;\\n  background-size: 15px 15px;\\n  transition: all .3s;\\n  background-image: url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2028%2028'%3E%3Ccircle%20cx%3D'14'%20cy%3D'14'%20r%3D'14'%20fill%3D'%23ccc'%2F%3E%3Cline%20stroke%3D'%23ffffff'%20stroke-width%3D'2'%20stroke-miterlimit%3D'10'%20x1%3D'8'%20y1%3D'8'%20x2%3D'20'%20y2%3D'20'%2F%3E%3Cline%20fill%3D'none'%20stroke%3D'%23ffffff'%20stroke-width%3D'2'%20stroke-miterlimit%3D'10'%20x1%3D'20'%20y1%3D'8'%20x2%3D'8'%20y2%3D'20'%2F%3E%3C%2Fsvg%3E\\\");\\n}\\n.am-search-input .am-search-clear-active {\\n  background-image: url(\\\"data:image/svg+xml;charset=utf-8,%3Csvg%20xmlns%3D'http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg'%20viewBox%3D'0%200%2028%2028'%3E%3Ccircle%20cx%3D'14'%20cy%3D'14'%20r%3D'14'%20fill%3D'%233776EC'%2F%3E%3Cline%20stroke%3D'%23ffffff'%20stroke-width%3D'2'%20stroke-miterlimit%3D'10'%20x1%3D'8'%20y1%3D'8'%20x2%3D'20'%20y2%3D'20'%2F%3E%3Cline%20fill%3D'none'%20stroke%3D'%23ffffff'%20stroke-width%3D'2'%20stroke-miterlimit%3D'10'%20x1%3D'20'%20y1%3D'8'%20x2%3D'8'%20y2%3D'20'%2F%3E%3C%2Fsvg%3E\\\");\\n}\\n.am-search-input .am-search-clear-show {\\n  display: block;\\n}\\n.am-search-cancel {\\n  flex: none;\\n  opacity: 0;\\n  padding-left: 8px;\\n  height: 44px;\\n  line-height: 44px;\\n  font-size: 16px;\\n  color: #3776EC;\\n  text-align: right;\\n}\\n.am-search-cancel-anim {\\n  transition: margin-right 0.3s, opacity 0.3s;\\n  transition-delay: .1s;\\n}\\n.am-search-cancel-show {\\n  opacity: 1;\\n}\\n.am-search.am-search-start .am-search-input input[type=\\\"search\\\"] {\\n  opacity: 1;\\n  padding: 0 28px 0 35px;\\n}\\n.am-search.am-search-start .am-search-input input[type=\\\"search\\\"]::placeholder {\\n  color: transparent;\\n}\\n.am-search.am-search-start .am-search-input .am-search-synthetic-ph {\\n  padding-left: 15px;\\n  width: auto;\\n}\\n\", \"\"]);\n\n// exports\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _defineProperty2 = require('babel-runtime/helpers/defineProperty');\n\nvar _defineProperty3 = _interopRequireDefault(_defineProperty2);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _classnames4 = require('classnames');\n\nvar _classnames5 = _interopRequireDefault(_classnames4);\n\nvar _react = require('react');\n\nvar React = _interopRequireWildcard(_react);\n\nvar _propTypes = require('prop-types');\n\nvar PropTypes = _interopRequireWildcard(_propTypes);\n\nvar _rmcFeedback = require('rmc-feedback');\n\nvar _rmcFeedback2 = _interopRequireDefault(_rmcFeedback);\n\nvar _getDataAttr = require('../_util/getDataAttr');\n\nvar _getDataAttr2 = _interopRequireDefault(_getDataAttr);\n\nvar _getLocale = require('../_util/getLocale');\n\nvar _PropsType = require('./PropsType');\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj['default'] = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nfunction onNextFrame(cb) {\n  if (window.requestAnimationFrame) {\n    return window.requestAnimationFrame(cb);\n  }\n\n  return window.setTimeout(cb, 1);\n}\n\nfunction clearNextFrameAction(nextFrameId) {\n  if (window.cancelAnimationFrame) {\n    window.cancelAnimationFrame(nextFrameId);\n  } else {\n    window.clearTimeout(nextFrameId);\n  }\n}\n\nvar SearchBar = function (_React$Component) {\n  (0, _inherits3['default'])(SearchBar, _React$Component);\n\n  function SearchBar(props) {\n    (0, _classCallCheck3['default'])(this, SearchBar);\n\n    var _this = (0, _possibleConstructorReturn3['default'])(this, (SearchBar.__proto__ || Object.getPrototypeOf(SearchBar)).call(this, props));\n\n    _this.onSubmit = function (e) {\n      e.preventDefault();\n\n      if (_this.props.onSubmit) {\n        _this.props.onSubmit(_this.state.value || '');\n      }\n\n      if (_this.inputRef) {\n        _this.inputRef.blur();\n      }\n    };\n\n    _this.onChange = function (e) {\n      if (!_this.state.focus) {\n        _this.setState({\n          focus: true\n        });\n      }\n\n      var value = e.target.value;\n\n      if (!('value' in _this.props)) {\n        _this.setState({\n          value: value\n        });\n      }\n\n      if (_this.props.onChange) {\n        _this.props.onChange(value);\n      }\n    };\n\n    _this.onFocus = function () {\n      _this.setState({\n        focus: true\n      });\n\n      _this.firstFocus = true;\n\n      if (_this.props.onFocus) {\n        _this.props.onFocus();\n      }\n    };\n\n    _this.onBlur = function () {\n      _this.onBlurTimeout = onNextFrame(function () {\n        if (!_this.blurFromOnClear) {\n          if (document.activeElement !== _this.inputRef) {\n            _this.setState({\n              focus: false\n            });\n          }\n        }\n\n        _this.blurFromOnClear = false;\n      });\n\n      if (_this.props.onBlur) {\n        // fix autoFocus item blur with flash\n        setTimeout(function () {\n          // fix ios12 wechat browser click failure after input\n          if (document.body) {\n            document.body.scrollTop = document.body.scrollTop;\n          }\n        }, 100);\n\n        _this.props.onBlur();\n      }\n    };\n\n    _this.onClear = function () {\n      _this.doClear();\n    };\n\n    _this.doClear = function () {\n      var blurFromOnClear = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      _this.blurFromOnClear = blurFromOnClear;\n\n      if (!('value' in _this.props)) {\n        _this.setState({\n          value: ''\n        });\n      }\n\n      if (_this.props.onClear) {\n        _this.props.onClear('');\n      }\n\n      if (_this.props.onChange) {\n        _this.props.onChange('');\n      }\n\n      if (blurFromOnClear) {\n        _this.focus();\n      }\n    };\n\n    _this.onCancel = function () {\n      if (_this.props.onCancel) {\n        _this.props.onCancel(_this.state.value || '');\n      } else {\n        _this.doClear(false);\n      }\n    };\n\n    _this.focus = function () {\n      if (_this.inputRef) {\n        _this.inputRef.focus();\n      }\n    };\n\n    var value = void 0;\n\n    if ('value' in props) {\n      value = props.value || '';\n    } else if ('defaultValue' in props) {\n      value = props.defaultValue;\n    } else {\n      value = '';\n    }\n\n    _this.state = {\n      value: value,\n      focus: false\n    };\n    return _this;\n  }\n\n  (0, _createClass3['default'])(SearchBar, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      if (this.rightBtnRef) {\n        var initBtn = window.getComputedStyle(this.rightBtnRef);\n        this.rightBtnInitMarginleft = initBtn.marginLeft;\n      }\n\n      this.componentDidUpdate();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.syntheticPhRef) {\n        if (this.inputContainerRef && this.inputContainerRef.className.indexOf(this.props.prefixCls + '-start') > -1) {\n          // 检测是否包含名为 ${this.props.prefixCls}-start 样式，生成动画\n          // offsetWidth 某些时候是向上取整，某些时候是向下取整，不能用\n          if (this.syntheticPhContainerRef) {\n            var realWidth = this.syntheticPhContainerRef.getBoundingClientRect().width; // 包含小数\n\n            this.syntheticPhRef.style.width = Math.ceil(realWidth) + 'px';\n          }\n\n          if (!this.props.showCancelButton && this.rightBtnRef) {\n            this.rightBtnRef.style.marginRight = '0';\n          }\n        } else {\n          this.syntheticPhRef.style.width = '100%';\n\n          if (!this.props.showCancelButton && this.rightBtnRef) {\n            this.rightBtnRef.style.marginRight = '-' + (this.rightBtnRef.offsetWidth + (this.rightBtnInitMarginleft != null ? parseInt(this.rightBtnInitMarginleft, 10) : 0)) + 'px';\n          }\n        }\n      }\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if ('value' in nextProps && nextProps.value !== this.state.value) {\n        this.setState({\n          value: nextProps.value\n        });\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      if (this.onBlurTimeout) {\n        clearNextFrameAction(this.onBlurTimeout);\n        this.onBlurTimeout = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _classnames3,\n          _this2 = this;\n\n      var _props = this.props,\n          prefixCls = _props.prefixCls,\n          showCancelButton = _props.showCancelButton,\n          disabled = _props.disabled,\n          placeholder = _props.placeholder,\n          className = _props.className,\n          style = _props.style,\n          maxLength = _props.maxLength; // tslint:disable-next-line:variable-name\n\n      var _locale = (0, _getLocale.getComponentLocale)(this.props, this.context, 'SearchBar', function () {\n        return require('./locale/zh_CN');\n      });\n\n      var cancelText = _locale.cancelText;\n      var _state = this.state,\n          value = _state.value,\n          focus = _state.focus;\n      var wrapCls = (0, _classnames5['default'])(prefixCls, className, (0, _defineProperty3['default'])({}, prefixCls + '-start', !!(focus || value && value.length > 0)));\n      var clearCls = (0, _classnames5['default'])(prefixCls + '-clear', (0, _defineProperty3['default'])({}, prefixCls + '-clear-show', !!(focus && value && value.length > 0)));\n      var cancelCls = (0, _classnames5['default'])(prefixCls + '-cancel', (_classnames3 = {}, (0, _defineProperty3['default'])(_classnames3, prefixCls + '-cancel-show', !!(showCancelButton || focus || value && value.length > 0)), (0, _defineProperty3['default'])(_classnames3, prefixCls + '-cancel-anim', this.firstFocus), _classnames3));\n      return React.createElement('form', {\n        onSubmit: this.onSubmit,\n        className: wrapCls,\n        style: style,\n        ref: function ref(el) {\n          return _this2.inputContainerRef = el;\n        },\n        action: '#'\n      }, React.createElement('div', {\n        className: prefixCls + '-input'\n      }, React.createElement('div', {\n        className: prefixCls + '-synthetic-ph',\n        ref: function ref(el) {\n          return _this2.syntheticPhRef = el;\n        }\n      }, React.createElement('span', {\n        className: prefixCls + '-synthetic-ph-container',\n        ref: function ref(el) {\n          return _this2.syntheticPhContainerRef = el;\n        }\n      }, React.createElement('i', {\n        className: prefixCls + '-synthetic-ph-icon'\n      }), React.createElement('span', {\n        className: prefixCls + '-synthetic-ph-placeholder' // tslint:disable-next-line:jsx-no-multiline-js\n        ,\n        style: {\n          visibility: placeholder && !value ? 'visible' : 'hidden'\n        }\n      }, placeholder))), React.createElement('input', (0, _extends3['default'])({\n        type: 'search',\n        className: prefixCls + '-value',\n        value: value,\n        disabled: disabled,\n        placeholder: placeholder,\n        onChange: this.onChange,\n        onFocus: this.onFocus,\n        onBlur: this.onBlur,\n        ref: function ref(el) {\n          return _this2.inputRef = el;\n        },\n        maxLength: maxLength\n      }, (0, _getDataAttr2['default'])(this.props))), React.createElement(_rmcFeedback2['default'], {\n        activeClassName: prefixCls + '-clear-active'\n      }, React.createElement('a', {\n        onClick: this.onClear,\n        className: clearCls\n      }))), React.createElement('div', {\n        className: cancelCls,\n        onClick: this.onCancel,\n        ref: function ref(el) {\n          return _this2.rightBtnRef = el;\n        }\n      }, this.props.cancelText || cancelText));\n    }\n  }]);\n  return SearchBar;\n}(React.Component);\n\nexports['default'] = SearchBar;\nSearchBar.defaultProps = _PropsType.defaultProps;\nSearchBar.contextTypes = {\n  antLocale: PropTypes.object\n};\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction noop() {}\n\nvar defaultProps = exports.defaultProps = {\n  prefixCls: 'am-search',\n  placeholder: '',\n  onSubmit: noop,\n  onChange: noop,\n  onFocus: noop,\n  onBlur: noop,\n  onClear: noop,\n  showCancelButton: false,\n  disabled: false\n};","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = {\n  cancelText: '取消'\n};\nmodule.exports = exports['default'];","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".\\\\--del-search-history-modal .am-modal-content {\\n  border-top-left-radius: .1rem;\\n  border-top-right-radius: .1rem;\\n}\\n.\\\\--del-search-history-modal .del-modal-content {\\n  padding: .3rem .2rem;\\n  font-family: PingFangSC-Medium;\\n  color: #2D343B;\\n}\\n.\\\\--del-search-history-modal .del-modal-content .title {\\n  margin-bottom: .2rem;\\n  font-size: .16rem;\\n  line-height: .22rem;\\n}\\n.\\\\--del-search-history-modal .del-modal-content .buttons {\\n  display: flex;\\n  justify-content: space-between;\\n}\\n.\\\\--del-search-history-modal .del-modal-content .buttons div {\\n  height: 0.4rem;\\n  width: 1.4rem;\\n  border-radius: 0.2rem;\\n  line-height: .4rem;\\n  text-align: center;\\n  font-size: .14rem;\\n}\\n.\\\\--del-search-history-modal .del-modal-content .buttons .cancel {\\n  background: #ffffff;\\n  border: 1px solid #dbe0e5;\\n}\\n.\\\\--del-search-history-modal .del-modal-content .buttons .ok {\\n  background: #ffb516;\\n}\\n\", \"\"]);\n\n// exports\n","\nvar content = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../node_modules/css-loader/index.js!../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".\\\\--search-page {\\n  display: flex;\\n  flex-direction: column;\\n  height: 100%;\\n  background: #fff;\\n}\\n.\\\\--search-page .search-bar {\\n  height: 0.45rem;\\n  display: flex;\\n  align-items: center;\\n  padding: 0 0.15rem;\\n}\\n.\\\\--search-page .search-bar .search-inp {\\n  height: 0.3rem;\\n  background: #f5f6f8;\\n  border-radius: 0.16rem;\\n  flex: 1;\\n  margin-right: .1rem;\\n}\\n.\\\\--search-page .search-bar .search-inp .am-search-input {\\n  background: #f5f6f8;\\n}\\n.\\\\--search-page .search-bar .search-inp .am-search-cancel {\\n  display: none;\\n}\\n.\\\\--search-page .scroll-view {\\n  padding: 0.2rem 0.15rem;\\n  flex: 1;\\n  overflow: auto;\\n}\\n.\\\\--search-page .scroll-view > div:first-child {\\n  margin-bottom: 0.45rem;\\n}\\n.\\\\--search-page .scroll-view .title {\\n  height: 0.2rem;\\n  line-height: 0.2rem;\\n  margin-bottom: 0.15rem;\\n}\\n.\\\\--search-page .scroll-view .tags {\\n  display: flex;\\n  flex-wrap: wrap;\\n}\\n.\\\\--search-page .scroll-view .tags > div {\\n  padding: 0.05rem 0.15rem;\\n  line-height: 0.2rem;\\n  background: #f5f6f8;\\n  border-radius: 49px;\\n  margin-right: 0.2rem;\\n  margin-bottom: 0.2rem;\\n}\\n.\\\\--search-page .am-search-input .am-search-synthetic-ph-icon {\\n  margin-top: .06rem;\\n}\\n\", \"\"]);\n\n// exports\n"],"sourceRoot":""}