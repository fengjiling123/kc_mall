{"version":3,"sources":["webpack:///./src/pages/applyOpenShop/shopCertificate/index.less?b39b","pages/applyOpenShop/shopCertificate/index.less","pages/applyOpenShop/shopCertificate/index.jsx"],"names":["content","__webpack_require__","module","i","options","hmr","transform","insertInto","undefined","locals","exports","push","ShopCertificate","connect","state","Object","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_5__","seller","props","_this","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","handleSaveAction","html2canvas","document","getElementById","scale","window","devicePixelRatio","then","canvas","renderBigImg","toDataURL","shopUrl","dispatch","certificateText","seller_name","identity_card_number","getShopUrl","innerHTML","removeBigImg","url","location","origin","id","date","Date","console","log","month","getMonth","getFullYear","getDate","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","_components_topBar__WEBPACK_IMPORTED_MODULE_8__","name","style","backgroundImage","concat","src","onClick","React","Component"],"mappings":"+EACA,IAAAA,EAAcC,EAAQ,MAEtB,kBAAAD,MAAA,EAA4CE,EAAAC,EAASH,EAAA,MAOrD,IAAAI,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEaP,EAAQ,GAARA,CAAiED,EAAAI,GAE9EJ,EAAAS,SAAAP,EAAAQ,QAAAV,EAAAS,+BCjBAP,EAAAQ,QAA2BT,EAAQ,GAARA,EAA6D,IAKxFU,KAAA,CAAcT,EAAAC,EAAS,23CAAy3C,gLCY14CS,iBAHLC,YAAQ,SAAAC,GAAK,OAAAC,OAAAC,EAAA,EAAAD,CAAA,GACTD,EAAMG,wBAGT,SAAAL,EAAYM,GAAO,IAAAC,EAAA,OAAAJ,OAAAK,EAAA,EAAAL,CAAAM,KAAAT,IACjBO,EAAAJ,OAAAO,EAAA,EAAAP,CAAAM,KAAAN,OAAAQ,EAAA,EAAAR,CAAAH,GAAAY,KAAAH,KAAMH,KA6BRO,iBAAmB,WACjBC,IAAYC,SAASC,eAAe,WAAY,CAC9CC,MAAiC,EAA1BC,OAAOC,mBACbC,KAAK,SAAAC,GACNC,YAAaD,EAAOE,gBAhCtBhB,EAAKL,MAAQ,CACXsB,QAAS,IAHMjB,qFAQjBkB,EADqBhB,KAAKH,MAAlBmB,UACCpB,mDAES,IACVA,EAAWI,KAAKH,MAAhBD,OAGJqB,EACF,sBAHSrB,EAASA,EAAOsB,YAAc,IAKvC,wCAJUtB,EAASA,EAAOuB,qBAAuB,IAMjD,qKAEEJ,EAAU,iCAAUf,KAAKoB,aAC7Bd,SAASC,eAAe,mBAAmBc,UAAYJ,EACvDX,SAASC,eAAe,WAAWc,UAAYN,iDAI/CO,mDAWW,IACH1B,EAAWI,KAAKH,MAAhBD,OAEJ2B,EADSd,OAAOe,SAASC,OACV,MACnB,OAAI7B,GAAUA,EAAO8B,GACZH,EAAM3B,EAAO8B,GAEbH,oCAIT,IAAII,EAAO,IAAIC,KACfC,QAAQC,IAAI,OAAQH,GACpB,IAAII,EAAQJ,EAAKK,WAAa,EAC9B,OAAOL,EAAKM,cAAgB,SAAMF,EAAQ,SAAMJ,EAAKO,UAAY,0CAG9ClC,KAAKH,MAAhBD,OAER,OADAiC,QAAQC,IAAI9B,KAAKH,OAEfsC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACbH,EAAAC,EAAAC,cAACE,EAAA,EAAD,CAAQD,UAAU,SAASE,KAAK,yCAChCL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,OACEC,UAAU,cACVZ,GAAG,UACHe,MAAO,CACLC,gBAAe,OAAAC,OAtET,+CAsES,OAGjBR,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,4EAGAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQZ,GAAG,mBAA1B,4NAGAS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQZ,GAAG,WAA1B,kCAGAS,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SAAf,kCAEAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,SACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WAAWM,IAvF5B,2CAwFET,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAf,4EACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QAAQtC,KAAKkC,cAIlCC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAcO,QAAS7C,KAAKI,kBAA3C,qCAxFoB0C,IAAMC,gBAiGrBxD","file":"static/js/65.78c91961.chunk.js","sourcesContent":["\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ShopCertificate {\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n}\\n.ShopCertificate .topBar {\\n  height: 44px;\\n  width: 100%;\\n}\\n.ShopCertificate .content {\\n  flex: 1;\\n  overflow: scroll;\\n  background: #fff;\\n}\\n.ShopCertificate .content .certificate {\\n  background-size: 100% 100%;\\n  padding: 0.3rem 0.0rem 0.6rem 0.0rem;\\n  height: 5.00rem;\\n}\\n.ShopCertificate .content .title {\\n  font-size: 0.16rem;\\n  text-align: center;\\n  margin-bottom: 0.1rem;\\n}\\n.ShopCertificate .content .ptext {\\n  color: #2D343B;\\n  font-size: 0.13rem;\\n  padding: 0.2rem;\\n  line-height: 0.23rem;\\n}\\n.ShopCertificate .content .zhang {\\n  display: flex;\\n  justify-content: flex-end;\\n}\\n.ShopCertificate .content .zhang .zhangBg {\\n  position: relative;\\n  padding-right: 0.2rem;\\n  text-align: center;\\n}\\n.ShopCertificate .content .zhang .zhangBg .zhangImg {\\n  width: 1.06rem;\\n  height: 1.06rem;\\n  position: absolute;\\n  right: 0.3rem;\\n}\\n.ShopCertificate .content .zhang .zhangBg .name {\\n  padding-top: 0.3rem;\\n}\\n.ShopCertificate .content .zhang .zhangBg .date {\\n  padding-top: 0.3rem;\\n}\\n.ShopCertificate .content .downloadBtn {\\n  margin-left: 0.4rem;\\n  margin-right: 0.4rem;\\n  height: 0.46rem;\\n  border-radius: 0.23rem;\\n  background: #3776EC;\\n  color: #fff;\\n  font-size: 0.16rem;\\n  font-weight: bold;\\n  text-align: center;\\n  line-height: 0.46rem;\\n}\\n\", \"\"]);\n\n// exports\n","import React from \"react\";\nimport history from \"@/util/history\";\nimport TopBar from \"@/components/topBar\";\nimport { connect } from \"react-redux\";\nimport * as seller from \"@/store/actions/seller\";\n// import certificateBg from \"@/assets/images/certificateBg.png\";\n// import kcZhang from \"@/assets/images/kcZhang.png\";\nimport html2canvas from \"html2canvas\";\nimport { renderBigImg, removeBigImg } from \"@/util/methods\";\nimport qs from \"qs\";\nimport \"./index.less\";\n\nlet kcZhang = \"/share_img/kclp%2Fimages%2FkcZhang.png\";\nlet certificateBg = \"/share_img/kclp%2Fimages%2FcertificateBg.png\";\n@connect(state => ({\n  ...state.seller\n}))\nclass ShopCertificate extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      shopUrl: \"\"\n    };\n  }\n  componentWillMount() {\n    const { dispatch } = this.props;\n    dispatch(seller.getSeller());\n  }\n  componentDidMount() {\n    const { seller } = this.props;\n    var name = seller ? seller.seller_name : \"\";\n    var idUrl = seller ? seller.identity_card_number : \"\";\n    var certificateText =\n      \"兹证明\" +\n      name +\n      \"（身份证号：\" +\n      idUrl +\n      \"）在康策良品电商平台上经营个人店铺属实，店铺信息如下：\";\n\n    var shopUrl = \"店铺地址：\" + this.getShopUrl();\n    document.getElementById(\"certificateText\").innerHTML = certificateText;\n    document.getElementById(\"shopUrl\").innerHTML = shopUrl;\n  }\n\n  componentWillUnmount() {\n    removeBigImg();\n  }\n\n  handleSaveAction = () => {\n    html2canvas(document.getElementById(\"capture\"), {\n      scale: window.devicePixelRatio * 2\n    }).then(canvas => {\n      renderBigImg(canvas.toDataURL());\n    });\n  };\n\n  getShopUrl() {\n    const { seller } = this.props;\n    var origin = window.location.origin;\n    var url = origin + \"/s/\";\n    if (seller && seller.id) {\n      return url + seller.id;\n    } else {\n      return url;\n    }\n  }\n  getDate() {\n    var date = new Date();\n    console.log(\"date\", date);\n    var month = date.getMonth() + 1;\n    return date.getFullYear() + \"年\" + month + \"月\" + date.getDate() + \"日\";\n  }\n  render() {\n    const { seller } = this.props;\n    console.log(this.props);\n    return (\n      <div className=\"ShopCertificate\">\n        <TopBar className=\"topBar\" name=\"店铺经营证明\" />\n        <div className=\"content\">\n          <div\n            className=\"certificate\"\n            id=\"capture\"\n            style={{\n              backgroundImage: `url(${certificateBg})`\n            }}\n          >\n            <div className=\"title\">康策良品平台店铺经营证明</div>\n            {/* <div className='ptext' id='certificateText'>兹证明{seller?seller.seller_name:''}（身份证号：{seller?seller.identity_card_number:''}）在康策良品电商平台上经营个人店铺属实，店铺信息如下：</div>\n            <div className='ptext' id='shopUrl'>店铺地址：{this.getShopUrl()}</div> */}\n            <div className=\"ptext\" id=\"certificateText\">\n              兹证明（身份证号：）在康策良品电商平台上经营个人店铺属实，店铺信息如下：\n            </div>\n            <div className=\"ptext\" id=\"shopUrl\">\n              店铺地址：\n            </div>\n            <div className=\"ptext\">特此证明！</div>\n\n            <div className=\"zhang\">\n              <div className=\"zhangBg\">\n                <img className=\"zhangImg\" src={kcZhang} />\n                <div className=\"name\">杭州康策网络科技有限公司</div>\n                <div className=\"date\">{this.getDate()}</div>\n              </div>\n            </div>\n          </div>\n          <div className=\"downloadBtn\" onClick={this.handleSaveAction}>\n            下载文件\n          </div>\n          {/* <a id='downloada' hidden={true}> 下载</a> */}\n        </div>\n      </div>\n    );\n  }\n}\nexport default ShopCertificate;\n"],"sourceRoot":""}