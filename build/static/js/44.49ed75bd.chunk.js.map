{"version":3,"sources":["pages/myCenter/myCollection/index.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","components/auth/index.jsx","assets/images/xieyitongyi.png","assets/images/unselect.png","webpack:///./src/pages/myCenter/myCollection/index.less?39ec","pages/myCenter/myCollection/index.less"],"names":["MyCollection","Auth","props","_this","Object","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_7__","this","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_9__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_10__","call","onRefresh","setState","refreshing","isLoading","page","sendDataRequest","onEndReached","event","state","editAction","isEdit","selectRow","id","is_open","result","selectIds","find","item","ids","_","remove","console","log","push","allSelect","data","length","history","handleCancelAction","sendDeleteRequest","handleAllSelect","allIds","map","collection_info","dataSource","antd_mobile_lib_list_view__WEBPACK_IMPORTED_MODULE_6___default","a","DataSource","rowHasChanged","row1","row2","height","document","documentElement","clientHeight","hei","ReactDOM","lv","offsetTop","_this2","params","limit","type","http","url","then","res","cloneWithRows","concat","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_4__","catch","_this3","method","select","unselect","_this4","react__WEBPACK_IMPORTED_MODULE_12___default","createElement","className","_components_topBar__WEBPACK_IMPORTED_MODULE_14__","name","rightTitle","onRightClick","style","key","ref","el","renderFooter","renderRow","rowData","sectionID","rowID","onClick","bind","src","checkStatus","cover","brand","Number","freight","activity","activity_reach_money","activity_reduce_money","parseFloat","price","sales","useBodyScroll","pullToRefresh","antd_mobile_lib_pull_to_refresh__WEBPACK_IMPORTED_MODULE_3___default","pageSize","antd_mobile_lib_activity_indicator__WEBPACK_IMPORTED_MODULE_1___default","toast","text","animating","React","Component","_toConsumableArray","arr","Array","isArray","i","arr2","_arrayWithoutHoles","iter","Symbol","iterator","prototype","toString","from","_iterableToArray","TypeError","_nonIterableSpread","__webpack_require__","d","__webpack_exports__","WrappedComponent","_class","_temp","_React$Component","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","componentDidCache","render","componentDidRecover","cacheLifecycles","didCache","didRecover","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","_Users_xiongzhihua_Desktop_GitLab_mall_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","value","store","getState","login","isLogin","react__WEBPACK_IMPORTED_MODULE_5___default","react_router_dom__WEBPACK_IMPORTED_MODULE_6__","to","displayName","module","exports","content","options","hmr","transform","insertInto","undefined","locals"],"mappings":"kWAaMA,EADLC,0BAEC,SAAAD,EAAYE,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,IACjBG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAJ,GAAAS,KAAAH,KAAMJ,KA2BRQ,UAAY,WACVP,EAAKQ,SAAS,CAAEC,YAAY,EAAMC,WAAW,IAE7CV,EAAKW,KAAO,EACZX,EAAKY,gBAAgBZ,EAAKW,OAhCTX,EAmCnBa,aAAe,SAACC,GAGVd,EAAKe,MAAML,YAGfV,EAAKQ,SAAS,CAAEE,WAAW,IAC3BV,EAAKW,KAAOX,EAAKW,KAAK,EACtBX,EAAKY,gBAAgBZ,EAAKW,QA3CTX,EA6EnBgB,WAAa,WACXhB,EAAKQ,SAAS,CACZS,QAAQjB,EAAKe,MAAME,UA/EJjB,EAkFnBkB,UAAY,SAACC,EAAGC,GACd,GAAGpB,EAAKe,MAAME,OAAQ,CAEpB,IAAII,EAASrB,EAAKe,MAAMO,UAAUC,KAAK,SAACC,GACtC,OAAGL,IAAOK,IAMRC,EAAMzB,EAAKe,MAAMO,UAClBD,GAEDK,IAAEC,OAAOF,EAAK,SAACD,GACb,OAAOA,IAASL,IAElBS,QAAQC,IAAIJ,IAGZA,EAAIK,KAAKX,GAEX,IAAIY,GAAY,EACb/B,EAAKgC,KAAKC,QAAUR,EAAIQ,SACzBF,GAAY,GAEd/B,EAAKQ,SAAS,CACZc,UAAUG,EACVM,mBAICX,GACDc,IAAQJ,KAAK,gBAAgBX,IAlHhBnB,EAuHnBmC,mBAAqB,WACnBnC,EAAKoC,qBAxHYpC,EA0HnBqC,gBAAkB,WAEhB,GADAT,QAAQC,IAAI,gBACT7B,EAAKe,MAAMgB,UACZ/B,EAAKQ,SAAS,CACZuB,WAAU,EACVT,UAAU,SAEP,CACL,IAAIgB,EAAStC,EAAKgC,KAAKO,IAAI,SAACf,GAC1B,OAAOA,EAAKgB,gBAAgBrB,KAE9BnB,EAAKQ,SAAS,CACZuB,WAAU,EACVT,UAAUgB,MArId,IAAMG,EAAa,IAAIC,EAAAC,EAASC,WAAW,CACzCC,cAAe,SAACC,EAAMC,GAAP,OAAgBD,IAASC,KAHzB,OAMjB/C,EAAKe,MAAQ,CACXN,YAAY,EACZC,WAAW,EACX+B,aACAxB,QAAO,EACPK,UAAU,GACVS,WAAU,EACViB,OAAQC,SAASC,gBAAgBC,cAEnCnD,EAAKgC,KAAO,KACZhC,EAAKW,KAAO,EAhBKX,oFAoBjBG,KAAKS,gBAAgBT,KAAKQ,kDAG1B,IAAMyC,EAAMjD,KAAKY,MAAMiC,OAASK,cAAqBlD,KAAKmD,IAAIC,UAC9DpD,KAAKK,SAAS,CACZwC,OAAQI,4CAqBIzC,GAAM,IAAA6C,EAAArD,KAGhBsD,EAAS,CAAE9C,OAAM+C,MAAO,GAAIC,KAAK,GACrCC,YAAK,CACHC,IAHQ,0BAIRJ,WACCK,KAAK,SAAAC,GACNnC,QAAQC,IAAI,OAAOkC,GACF,GAAbP,EAAK7C,MACP6C,EAAKxB,KAAO+B,EAAI/B,KAAKA,KAAKA,KAC1BwB,EAAKhD,SAAS,CACZC,YAAY,EACZC,WAAW,EACX+B,WAAYe,EAAKzC,MAAM0B,WAAWuB,cAAcR,EAAKxB,UAGvDwB,EAAKxB,KAAL,GAAAiC,OAAAhE,OAAAiE,EAAA,EAAAjE,CAAgBuD,EAAKxB,MAArB/B,OAAAiE,EAAA,EAAAjE,CAA8B8D,EAAI/B,KAAKA,KAAKA,OAC5CwB,EAAKhD,SAAS,CACZE,WAAW,EACXD,YAAY,EACZgC,WAAYe,EAAKzC,MAAM0B,WAAWuB,cAAcR,EAAKxB,WAGxDmC,MAAM,SAAAJ,GACPP,EAAKhD,SAAS,CACZE,WAAW,EACXD,YAAY,kDAmEE,IAAA2D,EAAAjE,KAClB,KAAGA,KAAKY,MAAMO,UAAUW,OAAS,GAAjC,CAGA,IAAIwB,EAAS,CAAChC,IAAItB,KAAKY,MAAMO,UAAUqC,KAAK,GAE5CxD,KAAKK,SAAS,CACZE,WAAU,IAEZkD,YAAK,CACHC,IALQ,0BAMR7B,KAAKyB,EACLY,OAAO,WACNP,KAAK,SAAAC,GACNK,EAAK7D,YACL6D,EAAK5D,SAAS,CACZE,WAAU,MAEXyD,MAAM,SAAAJ,GACPK,EAAK5D,SAAS,CACZE,WAAU,2CAKJS,GAQV,OAPahB,KAAKY,MAAMO,UAAUC,KAAK,SAACC,GACtC,OAAGL,IAAOK,IAME8C,IAAOC,qCAEd,IAAAC,EAAArE,KACDc,EAAUd,KAAKY,MAAfE,OAiDN,OACEwD,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,gBACbF,EAAA9B,EAAA+B,cAACE,EAAA,EAAD,CAAQC,KAAK,2BAAOF,UAAU,SAC9BG,WAAY7D,EAAO,eAAK,eAAM8D,aAAc5E,KAAKa,aACjDyD,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,WACfF,EAAA9B,EAAA+B,cAAAhC,EAAAC,EAAA,CAAYqC,MAAO,CACfhC,OAAQ7C,KAAKY,MAAMiC,QAEvBiC,IAAI,IAAIN,UAAU,WAClBO,IAAK,SAAAC,GAAE,OAAIX,EAAKlB,GAAK6B,GACrB1C,WAAYtC,KAAKY,MAAM0B,WACvB2C,aAAc,kBAAOX,EAAA9B,EAAA+B,cAAA,OAAKM,MAAO,CAAEhC,OAAO,YAG1CqC,UA7DO,SAACC,EAASC,EAAWC,GAC/B,OAAKF,EAAQ9C,gBAIZiC,EAAA9B,EAAA+B,cAAA,OAAKO,IAAKO,EAAOb,UAAU,kBAAkBc,QAASjB,EAAKtD,UAAUwE,KAAKlB,EAAMc,EAAQ9C,gBAAgBrB,GAAGmE,EAAQ9C,gBAAgBpB,UACjIqD,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,eACZ1D,GAASwD,EAAA9B,EAAA+B,cAAA,OAAKiB,IAAKnB,EAAKoB,YAAYN,EAAQ9C,gBAAgBrB,IAAKwD,UAAU,cAE5EF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,gBACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,SACbF,EAAA9B,EAAA+B,cAAA,OAAKiB,IAAKL,EAAQ9C,gBAAgBqD,SAEpCpB,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,eACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,6BACZW,EAAQ9C,gBAAgBsD,MAD3B,IACmCR,EAAQ9C,gBAAgBqC,MAE3DJ,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,QACgC,IAA5CoB,OAAOT,EAAQ9C,gBAAgBwD,UAChCvB,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,OAAhB,gBACsC,IAArCW,EAAQ9C,gBAAgByD,UAC3BxB,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,OAAhB,SAEGoB,OACCT,EAAQ9C,iBAAmB8C,EAAQ9C,gBAAgB0D,sBAHvD,SAMGH,OAAOT,EAAQ9C,iBAAmB8C,EAAQ9C,gBAAgB2D,yBAK1B,IAAlCb,EAAQ9C,gBAAgBpB,QAAYqD,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,eAClDF,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,SAAhB,UACIF,EAAA9B,EAAA+B,cAAA,YAAO0B,WAAWd,EAAQ9C,gBAAgB6D,SAE9C5B,EAAA9B,EAAA+B,cAAA,QAAMC,UAAU,SAASW,EAAQ9C,gBAAgB8D,MAAjD,6BAEJ7B,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,UAAf,0BApCEF,EAAA9B,EAAA+B,cAAA,aA4DN6B,eAAe,EACfC,cAAe/B,EAAA9B,EAAA+B,cAAA+B,EAAA9D,EAAA,CACblC,WAAYN,KAAKY,MAAMN,WACvBF,UAAWJ,KAAKI,YAElBM,aAAcV,KAAKU,aACnB6F,SAAU,KAEXvG,KAAKY,MAAME,QACZwD,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,cACbF,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,cAAcc,QAAStF,KAAKkC,iBAC3CoC,EAAA9B,EAAA+B,cAAA,OAAKiB,IAAKxF,KAAKY,MAAMgB,UAAUuC,IAAOC,IAAUI,UAAU,cAC1DF,EAAA9B,EAAA+B,cAAA,4BAEAD,EAAA9B,EAAA+B,cAAA,OAAKC,UAAU,YAAYc,QAAStF,KAAKgC,oBAAzC,8BAGAsC,EAAA9B,EAAA+B,cAAAiC,EAAAhE,EAAA,CACQiE,OAAK,EACLC,KAAK,aACLC,UAAW3G,KAAKY,MAAML,oBArQXqG,IAAMC,eA2QlBnH,8CCrRA,SAAAoH,EAAAC,GACf,OCJe,SAAAA,GACf,GAAAC,MAAAC,QAAAF,GAAA,CACA,QAAAG,EAAA,EAAAC,EAAA,IAAAH,MAAAD,EAAAjF,QAAiDoF,EAAAH,EAAAjF,OAAgBoF,IACjEC,EAAAD,GAAAH,EAAAG,GAGA,OAAAC,GDFSC,CAAiBL,IEJX,SAAAM,GACf,GAAAC,OAAAC,YAAAzH,OAAAuH,IAAA,uBAAAvH,OAAA0H,UAAAC,SAAAtH,KAAAkH,GAAA,OAAAL,MAAAU,KAAAL,GFGmCM,CAAeZ,IGJnC,WACf,UAAAa,UAAA,mDHG2DC,GAJ3DC,EAAAC,EAAAC,EAAA,sBAAAlB,2HI4CenH,IAvCF,SAAAsI,GAAgB,IAAAC,EAAAC,EAAA,OAAAA,EAAAD,EAAA,SAAAE,GAOzB,SAAAF,EAAYtI,GAAO,IAAAC,EAAA,OAAAC,OAAAuI,EAAA,EAAAvI,CAAAE,KAAAkI,IACjBrI,EAAAC,OAAAwI,EAAA,EAAAxI,CAAAE,KAAAF,OAAAyI,EAAA,EAAAzI,CAAAoI,GAAA/H,KAAAH,KAAMJ,KAWR4I,kBAAoB,WAClB3I,EAAKQ,SAAS,CAAEoI,QAAQ,KAbP5I,EAiBnB6I,oBAAsB,WACpB7I,EAAKQ,SAAS,CAAEoI,QAAQ,KAhBxB5I,EAAKe,MAAQ,CACX6H,QAAQ,GAEV7I,EAAM+I,iBACJ/I,EAAM+I,gBAAgBC,SAAS/I,EAAK2I,mBACtC5I,EAAM+I,iBACJ/I,EAAM+I,gBAAgBE,WAAWhJ,EAAK6I,qBARvB7I,EAPM,OAAAC,OAAAgJ,EAAA,EAAAhJ,CAAAoI,EAAAE,GAAAtI,OAAAiJ,EAAA,EAAAjJ,CAAAoI,EAAA,EAAApD,IAAA,SAAAkE,MAAA,WA+BvB,OAFaC,IAAMC,WACMC,MAAnBC,SAEApJ,KAAKY,MAAM6H,OAAeY,EAAA7G,EAAA+B,cAAC+E,EAAA,EAAD,CAAUC,GAAG,WAGtCF,EAAA7G,EAAA+B,cAAC0D,EAAqBjI,KAAKJ,WAnCXsI,EAAA,CACbtB,IAAMC,WADOqB,EAElBsB,YACLvB,EAAiBuB,aACjBvB,EAAiBvD,KAAO,QACxB,gBALuByD,sBCL7BsB,EAAAC,QAAA,o9BCAAD,EAAAC,QAAA,snBCCA,IAAAC,EAAc7B,EAAQ,KAEtB,kBAAA6B,MAAA,EAA4CF,EAAAvC,EAASyC,EAAA,MAOrD,IAAAC,EAAA,CAAeC,KAAA,EAEfC,eAPAA,EAQAC,gBAAAC,GAEalC,EAAQ,GAARA,CAAiE6B,EAAAC,GAE9ED,EAAAM,SAAAR,EAAAC,QAAAC,EAAAM,8BCjBAR,EAAAC,QAA2B5B,EAAQ,GAARA,EAA6D,IAKxFnG,KAAA,CAAc8H,EAAAvC,EAAS,0mGAA4mG","file":"static/js/44.49ed75bd.chunk.js","sourcesContent":["import React from \"react\";\nimport history from \"@/util/history\";\nimport TopBar from \"@/components/topBar\";\nimport * as ReactDOM from \"react-dom\";\nimport http from \"@/util/http\";\nimport { ListView,PullToRefresh,ActivityIndicator } from 'antd-mobile';\nimport unselect from \"@/assets/images/unselect.png\";\nimport select from \"@/assets/images/xieyitongyi.png\";\nimport \"./index.less\"\nimport _ from 'lodash'\nimport Auth from \"@/components/auth\";\n \n@Auth\nclass MyCollection extends React.Component {\n  constructor(props) {\n    super(props);\n    const dataSource = new ListView.DataSource({\n      rowHasChanged: (row1, row2) => row1 !== row2,\n    });\n\n    this.state = {\n      refreshing: true,\n      isLoading: true,\n      dataSource,\n      isEdit:false,\n      selectIds:[],\n      allSelect:false,\n      height: document.documentElement.clientHeight\n    }\n    this.data = null;\n    this.page = 1;\n\n  }\n  componentWillMount() {\n    this.sendDataRequest(this.page);\n  }\n  componentDidMount() {\n    const hei = this.state.height - ReactDOM.findDOMNode(this.lv).offsetTop;\n    this.setState({\n      height: hei\n    });\n  }\n  onRefresh = () => {\n    this.setState({ refreshing: true, isLoading: true });\n    // simulate initial Ajax\n    this.page = 1;\n    this.sendDataRequest(this.page);\n  };\n\n  onEndReached = (event) => {\n    // load new data\n    // hasMore: from backend data, indicates whether it is the last page, here is false\n    if (this.state.isLoading) {\n      return;\n    }\n    this.setState({ isLoading: true });\n    this.page = this.page+1;\n    this.sendDataRequest(this.page);\n  };\n\n  sendDataRequest(page) {\n  \n    var url = '/user.collection.paging';\n    var params = { page, limit: 10 ,type:1};\n    http({\n      url,\n      params\n    }).then(res => {\n      console.log('data',res);\n      if (this.page == 1) {\n        this.data = res.data.data.data;\n        this.setState({\n          refreshing: false,\n          isLoading: false,\n          dataSource: this.state.dataSource.cloneWithRows(this.data)\n        });\n      } else {\n        this.data = [...this.data, ...res.data.data.data];\n        this.setState({\n          isLoading: false,\n          refreshing: false,\n          dataSource: this.state.dataSource.cloneWithRows(this.data)\n        });\n      }\n    }).catch(res => {\n      this.setState({\n        isLoading: false,\n        refreshing: false,\n      })\n    });;\n  }\n  editAction = ()=> {\n    this.setState({\n      isEdit:!this.state.isEdit,\n    })\n  }\n  selectRow = (id,is_open)=> {\n    if(this.state.isEdit) {\n      //选中或取消\n      var result = this.state.selectIds.find((item)=>{\n        if(id === item) {\n          return true;\n        } else {\n          return false;\n        }\n      })\n      var ids = this.state.selectIds;\n      if(result) {\n        //取消\n        _.remove(ids, (item) => {\n          return item === id;\n        });\n        console.log(ids);\n      } else {\n        //选中\n        ids.push(id);\n      }\n      var allSelect = false;\n      if(this.data.length == ids.length) {\n        allSelect = true\n      }\n      this.setState({\n        selectIds:ids,\n        allSelect\n      })\n    } else {\n      //进入详情\n      if(is_open) {\n        history.push('/goodsdetail/'+id)\n      }\n      \n    }\n  }\n  handleCancelAction = () => {\n    this.sendDeleteRequest()\n  }\n  handleAllSelect = () => {\n    console.log('点击')\n    if(this.state.allSelect) {\n      this.setState({\n        allSelect:false,\n        selectIds:[]\n      })\n    } else {\n      var allIds = this.data.map((item) => {\n        return item.collection_info.id;\n      })\n      this.setState({\n        allSelect:true,\n        selectIds:allIds\n      })\n    }\n    \n  }\n  sendDeleteRequest() {\n    if(this.state.selectIds.length < 1) {\n      return;\n    }\n    var params = {ids:this.state.selectIds,type:1};\n    var url = '/user.collection.delete';\n    this.setState({\n      isLoading:true\n    })\n    http({\n      url,\n      data:params,\n      method:'delete'\n    }).then(res => {\n      this.onRefresh();\n      this.setState({\n        isLoading:false\n      })\n    }).catch(res => {\n      this.setState({\n        isLoading:false\n      })\n    });\n  }\n\n  checkStatus(id) {\n    var result = this.state.selectIds.find((item)=>{\n      if(id === item) {\n        return true;\n      } else {\n        return false;\n      }\n    })\n    return result?select:unselect;\n  }\n  render() {\n   const {isEdit} = this.state;\n\n   const row = (rowData, sectionID, rowID) => {\n     if (!rowData.collection_info) {\n       return <div></div>\n     }\n    return (\n      <div key={rowID} className='collection-item' onClick={this.selectRow.bind(this, rowData.collection_info.id,rowData.collection_info.is_open)}>\n        <div className='itemContent'>\n          {isEdit &&<img src={this.checkStatus(rowData.collection_info.id)} className='selectImg'></img>}\n          \n          <div className=\"rightContent\">\n            <div className=\"cover\">\n              <img src={rowData.collection_info.cover} />\n            </div>\n            <div className='textContent'>\n              <div className=\"goods-name line-clamp-two\">\n                {rowData.collection_info.brand} {rowData.collection_info.name}\n              </div>\n              <div className=\"tags\">\n                {Number(rowData.collection_info.freight) === 0 && \n                <span className=\"tag\">包邮</span>}\n                {rowData.collection_info.activity === 3 && (\n              <span className=\"tag\">\n                满\n                {Number(\n                  rowData.collection_info && rowData.collection_info.activity_reach_money\n                )}\n                减\n                {Number(rowData.collection_info && rowData.collection_info.activity_reduce_money\n                )}\n              </span>\n            )}\n              </div>\n              {rowData.collection_info.is_open===1?<div className=\"price-count\">\n                <span className=\"price\">\n                  ￥ <span>{parseFloat(rowData.collection_info.price)}</span>\n                </span>\n                <span className=\"count\">{rowData.collection_info.sales}人已购买</span>\n              </div>:\n            <div className='xiajia'>已下架</div>}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n\n    return (\n      <div className='myCollection'>\n        <TopBar name=\"我的收藏\" className='topBar'\n        rightTitle={isEdit?'完成':'编辑'} onRightClick={this.editAction} />\n        <div className='content'>\n        <ListView   style={{\n            height: this.state.height\n          }}\n        key='1' className='listView'\n        ref={el => this.lv = el}\n        dataSource={this.state.dataSource}\n        renderFooter={() => (<div style={{ height:'100px'}}>\n        \n        </div>)}\n        renderRow={row}\n        useBodyScroll={false}\n        pullToRefresh={<PullToRefresh\n          refreshing={this.state.refreshing}\n          onRefresh={this.onRefresh}\n        />}\n        onEndReached={this.onEndReached}\n        pageSize={10}\n      />\n      {this.state.isEdit && \n      <div className='bottomView'>\n        <div className='bottom-left' onClick={this.handleAllSelect}>\n        <img src={this.state.allSelect?select:unselect} className='selectImg'></img>\n        <div>全选</div>\n        </div>\n        <div className='cancelBtn' onClick={this.handleCancelAction}>取消收藏</div>\n      </div>}\n        </div>\n        <ActivityIndicator\n                toast\n                text=\"Loading...\"\n                animating={this.state.isLoading}\n              />\n      </div>\n    );\n  }\n}\nexport default MyCollection;\n\n\n","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport store from \"@/store\";\n\nconst Auth = WrappedComponent =>\n  class extends React.Component {\n    static displayName =\n      WrappedComponent.displayName ||\n      WrappedComponent.name + \"_HOC\" ||\n      \"Component_HOC\";\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        render: true\n      };\n      props.cacheLifecycles &&\n        props.cacheLifecycles.didCache(this.componentDidCache);\n      props.cacheLifecycles &&\n        props.cacheLifecycles.didRecover(this.componentDidRecover);\n    }\n\n    //被缓存时生命周期\n    componentDidCache = () => {\n      this.setState({ render: false });\n    };\n\n    //被恢复时生命周期\n    componentDidRecover = () => {\n      this.setState({ render: true });\n    };\n\n    render() {\n      let states = store.getState();\n      let { isLogin } = states.login;\n      if (!isLogin) {\n        if (this.state.render) return <Redirect to=\"/login\" />;\n      }\n\n      return <WrappedComponent {...this.props} />;\n    }\n  };\n\nexport default Auth;\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAnhJREFUWAnNmDFoFEEUhv+3dyS53CUBhUAEUUSrAwsLE4sgiE0qSa1dksb0MVgKSkinoIV6nVjYJGUKTaFFkiqgpBFBLCSNCSh3iZ7ejfPPZuBuvb3bzd7s+Yq9mzez73375u3b4QmORCklVxb3Z/VwBlBFpVCwcy5+RVAGZEfbLm0snXguIop+hJfJu5Wxau3wBRSucZy6CNb7Mrlb7x7kdz1GpqcwfHodCDKQRSbu7M3pP09Tj0qDw8KA4OKZLD58qd3Oar3Omd5J8XQWD2eGUMh52P78574GUsVe4RDm0ewQ8gOeQRgdlhGdQ27fprCHDcLU6wpP1g48Hy3sLkd6u002MoS596qMN++rSB3IwjBnKBZmbbtqxqkCdYIhUWpAUWBSA4oKkwpQHBjnQHFhDNDZ0QzmpwZx6RyLdveEMCx6YW9TmCf5+PW3unAqC/09w/JKBStbv8LWRtZbmGCdsa92O0PeYdUcQ6DPI1iYzmN6vL/d+o5zdpuOA0Pj3vJqBd8rdeMoKZSNTNxtanxK79NuDfPPfiSGShoZC2UKY1IoC5MkMk1AHBwXqpsw5Gj6dMSF6jbMP0BURIVyAdMSKAqUKxj6lvGFb34h4igg58cyeDw3jJG8v7Msni/f/sSNy/2xK3DAdOiwKYeCq1pt382rOWcw9N8WiAuCUNRRgic9X5v82hGILoJQrmDoKxJQI9R+uW4O5FE+lLwvrrRN6lbGBvuAA/883mo6sc7zuxDR7biEIYveMtMSiU7kdKXsMIdKTn3EM14StkAmFvde96w3ZIF1j2hz6eR1nUOi2CzSrat1O5f671HDiiymg0YARup/aOn9BYC0mxoV4Y+1AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAkCAYAAADhAJiYAAAAAXNSR0IArs4c6QAAAXBJREFUWAntWDtOw0AQ3bdCKAUX4Aw+AB0FCvSBFtPwuQJUFFRwBQSNTZukTyIKKjiAz8AFKCKKDPMWs3IkpGmwTbFTxJOZJO/t20kxD64OEUE5XZw5kVMtZeJk66fXxhMOH/q7lQMe89HwAYAQB3wpxy/bguWTktrj+65DyTxDBsf50e67pzJ9kuHhKUTNASgm83OR1T0bKtensr12MijIlrW2grfisDxRMjd6V5vEAfwFivHsVedlhwUPXOWHB3fMu4pyMrtcidwST+fqzeszi+CqTMy7StYxM9/8N7V9Tb+dsYlJLlToX0UiZF1HUigpZClg9dMMJYUsBax+mqGkkKWA1U8zlBSyFLD6aYaSQpYCVt/XLkT4XFhvrW/8cb+JSS4c6ipi6K4d866Sdcxqg/6M2g9ht+fir7u22hHdmg3x7MoFtGPK6XxBSyQ2ekjoEeWj/aEaHmoPqVnEQg88AiSxaw4SHDRWv5Xq39L7ArNJmABCTPyYAAAAAElFTkSuQmCC\"","\nvar content = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\nif(typeof content === 'string') content = [[module.id, content, '']];\n\nvar transform;\nvar insertInto;\n\n\n\nvar options = {\"hmr\":true}\n\noptions.transform = transform\noptions.insertInto = undefined;\n\nvar update = require(\"!../../../../node_modules/style-loader/lib/addStyles.js\")(content, options);\n\nif(content.locals) module.exports = content.locals;\n\nif(module.hot) {\n\tmodule.hot.accept(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\", function() {\n\t\tvar newContent = require(\"!!../../../../node_modules/css-loader/index.js!../../../../node_modules/less-loader/dist/cjs.js??ref--6-oneOf-7-2!./index.less\");\n\n\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\n\t\tvar locals = (function(a, b) {\n\t\t\tvar key, idx = 0;\n\n\t\t\tfor(key in a) {\n\t\t\t\tif(!b || a[key] !== b[key]) return false;\n\t\t\t\tidx++;\n\t\t\t}\n\n\t\t\tfor(key in b) idx--;\n\n\t\t\treturn idx === 0;\n\t\t}(content.locals, newContent.locals));\n\n\t\tif(!locals) throw new Error('Aborting CSS HMR due to changed css-modules locals.');\n\n\t\tupdate(newContent);\n\t});\n\n\tmodule.hot.dispose(function() { update(); });\n}","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".myCollection {\\n  display: flex;\\n  flex-direction: column;\\n  width: 100%;\\n  height: 100%;\\n}\\n.myCollection .topBar {\\n  height: 44px;\\n  width: 100%;\\n}\\n.myCollection .content {\\n  flex: 1;\\n  background: #fff;\\n}\\n.myCollection .content .bottomView {\\n  border: 1px solid #F5F6F8;\\n  background-color: #fff;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n  height: 0.5rem;\\n  position: absolute;\\n  bottom: 0.0rem;\\n  width: 100%;\\n}\\n.myCollection .content .bottomView .bottom-left {\\n  display: flex;\\n  align-items: center;\\n  margin-left: 0.15rem;\\n  color: #657281;\\n}\\n.myCollection .content .bottomView .bottom-left .selectImg {\\n  width: 0.12rem;\\n  height: 0.12rem;\\n  margin-right: 0.08rem;\\n}\\n.myCollection .content .bottomView .cancelBtn {\\n  color: #FFB516;\\n  border: 1px solid #FFB516;\\n  height: 0.3rem;\\n  width: 0.8rem;\\n  line-height: 0.3rem;\\n  border-radius: 0.15rem;\\n  text-align: center;\\n  margin-right: 0.15rem;\\n}\\n.myCollection .am-list-view-scrollview {\\n  margin: 0 !important;\\n}\\n.myCollection .am-list-body:before {\\n  content: \\\"\\\" !important;\\n  background-color: #fff !important;\\n}\\n.myCollection .am-list-body:after {\\n  content: \\\"\\\" !important;\\n  background-color: #fff !important;\\n}\\n.collection-item {\\n  padding: 0.15rem 0.15rem;\\n}\\n.collection-item .itemContent {\\n  display: flex;\\n  align-items: center;\\n}\\n.collection-item .itemContent .selectImg {\\n  width: 0.12rem;\\n  height: 0.12rem;\\n  margin-right: 0.08rem;\\n}\\n.collection-item .itemContent .rightContent {\\n  display: flex;\\n  position: relative;\\n}\\n.collection-item .itemContent .rightContent .cover {\\n  height: 1.07rem;\\n  width: 1.07rem;\\n  flex-shrink: 0;\\n  margin-right: 0.08rem;\\n  font-size: 0;\\n  display: flex;\\n  align-items: center;\\n  border: 1px solid #A1ADB9;\\n  border-radius: 0.05rem;\\n}\\n.collection-item .itemContent .rightContent .cover img {\\n  width: 100%;\\n  max-height: 100%;\\n  border-radius: 5px;\\n}\\n.collection-item .itemContent .rightContent .goods-name {\\n  line-height: 0.2rem;\\n  height: 0.4rem;\\n}\\n.collection-item .itemContent .rightContent .textContent {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n}\\n.collection-item .itemContent .rightContent .tags {\\n  margin: 0.03rem 0;\\n  font-size: 0.1rem;\\n  color: #FF5000;\\n  height: 0.18rem;\\n}\\n.collection-item .itemContent .rightContent .tags .tag {\\n  display: inline-block;\\n  border: 1px solid #FF5000;\\n  border-radius: 8px;\\n  padding: 0.02rem 0.05rem;\\n  margin-right: 0.05rem;\\n}\\n.collection-item .itemContent .rightContent .price-count {\\n  line-height: 0.22rem;\\n}\\n.collection-item .itemContent .rightContent .price-count .price {\\n  color: #FF5000;\\n  margin-right: 0.1rem;\\n}\\n.collection-item .itemContent .rightContent .price-count .price span {\\n  font-size: 0.16rem;\\n}\\n.collection-item .itemContent .rightContent .price-count .count {\\n  color: #657281;\\n  font-size: 0.12rem;\\n}\\n.collection-item .itemContent .rightContent .xiajia {\\n  height: 0.2rem;\\n  width: 0.5rem;\\n  line-height: 0.2rem;\\n  text-align: center;\\n  color: #fff;\\n  background: #A1ADB9;\\n  border-radius: 0.1rem;\\n}\\n\", \"\"]);\n\n// exports\n"],"sourceRoot":""}